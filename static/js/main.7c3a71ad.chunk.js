(this["webpackJsonpfast-trace-qr-generator-v1"]=this["webpackJsonpfast-trace-qr-generator-v1"]||[]).push([[0],{116:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){},145:function(e,t,a){},147:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a(2),n=a.n(s),r=a(17),i=a.n(r),l=(a(80),a(81),a(5)),o=a.n(l),d=a(7),u=a(6),j=a(16),b=a(8),m=(a(27),a(22)),A=a.n(m),h=A.a.create({baseURL:"https://vtrace-backend.herokuapp.com/api",withCredentials:!0});function O(e){return p.apply(this,arguments)}function p(){return(p=Object(d.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h({url:"/users/individual",method:"post",headers:{auth_token:localStorage.getItem("vtraceToken")},data:{userId:t}});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{success:!1,message:"Failed to create user."});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function x(e){return g.apply(this,arguments)}function g(){return(g=Object(d.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.post("/users/create",t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{success:!1,message:"Failed to create user."});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function v(e){return f.apply(this,arguments)}function f(){return(f=Object(d.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h({url:"/users/update",method:"put",headers:{auth_token:localStorage.getItem("vtraceToken")},data:t});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{success:!1,message:"Failed to create user."});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function N(e){return w.apply(this,arguments)}function w(){return(w=Object(d.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h({url:"/users/update-password",method:"put",headers:{auth_token:localStorage.getItem("vtraceToken")},data:t});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{success:!1,message:"Failed to create user."});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function y(e,t){return C.apply(this,arguments)}function C(){return(C=Object(d.a)(o.a.mark((function e(t,a){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h({url:"/users/login",method:"post",headers:{auth_token:localStorage.getItem("vtraceToken")},data:{userId:t,password:a}});case 3:return(c=e.sent).data.success&&localStorage.setItem("vtraceToken",c.data.token),e.abrupt("return",c.data);case 8:return e.prev=8,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{success:!1,message:"Failed to login."});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function k(e,t){return S.apply(this,arguments)}function S(){return(S=Object(d.a)(o.a.mark((function e(t,a){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h({url:"/users/login",method:"post",headers:{auth_token:localStorage.getItem("vtraceToken")},data:{userId:t,password:a}});case 3:return c=e.sent,e.abrupt("return",c.data);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{success:!1,message:"Failed to login."});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function E(){return I.apply(this,arguments)}function I(){return(I=Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,localStorage.removeItem("vtraceToken");case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function B(e,t){return L.apply(this,arguments)}function L(){return(L=Object(d.a)(o.a.mark((function e(t,a){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h({url:"/users/password-matched",method:"post",headers:{auth_token:localStorage.getItem("vtraceToken")},data:{userId:t,password:a}});case 3:return c=e.sent,e.abrupt("return",c.data);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{success:!1,message:"Failed to login."});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var Q=function(e){var t=e.toggle,a=e.setLogged;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(b.c,{activeClassName:"active",exact:!0,to:"/individual",className:"side-item",onClick:t,children:"Home"}),Object(c.jsx)(b.c,{activeClassName:"active",exact:!0,to:"/individual/profile",className:"side-item",onClick:t,children:"Profile"}),Object(c.jsx)(b.c,{activeClassName:"active",exact:!0,to:"/individual/logs",className:"side-item",onClick:t,children:"Logs"}),Object(c.jsx)("li",{className:"side-item side-logout-icon",onClick:Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(),e.next=3,E();case 3:a(!1);case 4:case"end":return e.stop()}}),e)}))),children:"Logout"})]})},F=function(e){var t=e.toggle;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(b.c,{activeClassName:"active",exact:!0,to:"/",className:"side-item",onClick:t,children:"Home"}),Object(c.jsx)(b.c,{activeClassName:"active",exact:!0,to:"/individual/login",className:"side-item",onClick:t,children:"Login"}),Object(c.jsx)(b.c,{activeClassName:"active",exact:!0,to:"/individual/signup",className:"side-item",onClick:t,children:"Signup"})]})},P=function(e){var t=e.active,a=e.toggle,s=e.logged,n=e.setLogged,r=s?Object(c.jsx)(Q,{toggle:a,setLogged:n}):Object(c.jsx)(F,{toggle:a});return Object(c.jsxs)("div",{className:t?"side-menu d-flex flex-column sideactive":"side-menu d-flex flex-column",children:[Object(c.jsx)("div",{className:"close px-2 d-flex justify-content-end align-items-center",onClick:a,children:Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"45",height:"45",fill:"currentColor",className:"bi bi-x",viewBox:"0 0 16 16",children:Object(c.jsx)("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})})}),Object(c.jsx)("div",{className:"side-items d-flex flex-column align-items-center",children:r})]})},U=a(29),q=function(e){var t=e.setLogged;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(b.c,{activeClassName:"active",exact:!0,to:"/individual",className:"nav-item",children:"Home"}),Object(c.jsx)(b.c,{activeClassName:"active",exact:!0,to:"/individual/profile",className:"nav-item",children:"Profile"}),Object(c.jsx)(b.c,{activeClassName:"active",exact:!0,to:"/individual/logs",className:"nav-item",children:"Logs"}),Object(c.jsx)("li",{className:"nav-item logout-icon d-flex align-items-center",onClick:Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:t(!1);case 3:case"end":return e.stop()}}),e)}))),children:Object(c.jsx)(U.a,{})})]})},D=function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(b.c,{activeClassName:"active",exact:!0,to:"/",className:"nav-item",children:"Home"}),Object(c.jsx)(b.c,{activeClassName:"active",exact:!0,to:"/individual/login",className:"nav-item",children:"Login"}),Object(c.jsx)(b.c,{activeClassName:"active",exact:!0,to:"/individual/signup",className:"nav-item",children:"Signup"})]})},T=function(e){var t=e.logged,a=e.setLogged,n=Object(s.useState)(!1),r=Object(u.a)(n,2),i=r[0],l=r[1],o=function(){return l(!i)};Object(s.useEffect)((function(){window.addEventListener("resize",(function(){window.innerWidth>=992&&l(!1)}))}));var d=t?Object(c.jsx)(q,{setLogged:a}):Object(c.jsx)(D,{});return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(P,{active:i,toggle:o,logged:t,setLogged:a}),Object(c.jsx)("nav",{className:"navigation d-flex align-items-center fixed-top",children:Object(c.jsxs)("div",{className:"container-fluid px-3 px-lg-5 d-flex align-items-center",children:[Object(c.jsx)("div",{className:"logo",children:Object(c.jsxs)(b.c,{exact:!0,to:"/",className:"logo-link",children:[Object(c.jsx)("span",{className:"logo-name",children:"VTrace |"}),Object(c.jsx)("span",{className:"logo-type",children:" Individual"})]})}),Object(c.jsx)("div",{className:"hamburger d-flex d-lg-none align-items-center ml-auto",onClick:o,children:Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"45",height:"45",fill:"currentColor",className:"bi bi-filter-right menu",viewBox:"0 0 16 16",children:Object(c.jsx)("path",{d:"M14 10.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0 0 1h3a.5.5 0 0 0 .5-.5zm0-3a.5.5 0 0 0-.5-.5h-7a.5.5 0 0 0 0 1h7a.5.5 0 0 0 .5-.5zm0-3a.5.5 0 0 0-.5-.5h-11a.5.5 0 0 0 0 1h11a.5.5 0 0 0 .5-.5z"})})}),Object(c.jsx)("div",{className:"nav-menu d-none d-lg-flex align-items-center ml-auto",children:Object(c.jsx)("div",{className:"nav-items d-flex align-items-center",children:d})})]})})]})},z=A.a.create({baseURL:"https://vtrace-backend.herokuapp.com/api",withCredentials:!0});function V(e){return M.apply(this,arguments)}function M(){return(M=Object(d.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z({url:"/establishments/individual",method:"post",headers:{auth_token:localStorage.getItem("vtraceEstToken")},data:{establishmentId:t}});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{success:!1,message:"Failed to create user."});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function W(e){return H.apply(this,arguments)}function H(){return(H=Object(d.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.post("/establishments/create",t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{success:!1,message:"Failed to create user."});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Z(e){return R.apply(this,arguments)}function R(){return(R=Object(d.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z({url:"/establishments/update",method:"put",headers:{auth_token:localStorage.getItem("vtraceEstToken")},data:t});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{success:!1,message:"Failed to create user."});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function K(e){return X.apply(this,arguments)}function X(){return(X=Object(d.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z({url:"/establishments/update-password",method:"put",headers:{auth_token:localStorage.getItem("vtraceEstToken")},data:t});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{success:!1,message:"Failed to create user."});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Y(e,t){return G.apply(this,arguments)}function G(){return(G=Object(d.a)(o.a.mark((function e(t,a){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z({url:"/establishments/login",method:"post",headers:{auth_token:localStorage.getItem("vtraceEstToken")},data:{establishmentId:t,password:a}});case 3:return(c=e.sent).data.success&&localStorage.setItem("vtraceEstToken",c.data.token),e.abrupt("return",c.data);case 8:return e.prev=8,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{success:!1,message:"Failed to login."});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function J(e,t){return _.apply(this,arguments)}function _(){return(_=Object(d.a)(o.a.mark((function e(t,a){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z({url:"/establishments/login",method:"post",headers:{auth_token:localStorage.getItem("vtraceEstToken")},data:{establishmentId:t,password:a}});case 3:return c=e.sent,e.abrupt("return",c.data);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{success:!1,message:"Failed to login."});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function $(){return ee.apply(this,arguments)}function ee(){return(ee=Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,localStorage.removeItem("vtraceEstToken");case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function te(e,t){return ae.apply(this,arguments)}function ae(){return(ae=Object(d.a)(o.a.mark((function e(t,a){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z({url:"/establishments/password-matched",method:"post",headers:{auth_token:localStorage.getItem("vtraceEstToken")},data:{establishmentId:t,password:a}});case 3:return c=e.sent,e.abrupt("return",c.data);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{success:!1,message:"Failed to login."});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var ce=function(e){var t=e.toggle,a=e.setLogged;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(b.c,{activeClassName:"active",exact:!0,to:"/establishment",className:"side-item",onClick:t,children:"Home"}),Object(c.jsx)(b.c,{activeClassName:"active",exact:!0,to:"/establishment/profile",className:"side-item",onClick:t,children:"Profile"}),Object(c.jsx)(b.c,{activeClassName:"active",exact:!0,to:"/establishment/logs",className:"side-item",onClick:t,children:"Logs"}),Object(c.jsx)("li",{className:"side-item side-logout-icon",onClick:Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(),e.next=3,$();case 3:a(!1);case 4:case"end":return e.stop()}}),e)}))),children:"Logout"})]})},se=function(e){var t=e.toggle;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(b.c,{activeClassName:"active",exact:!0,to:"/",className:"side-item",onClick:t,children:"Home"}),Object(c.jsx)(b.c,{activeClassName:"active",exact:!0,to:"/establishment/login",className:"side-item",onClick:t,children:"Login"}),Object(c.jsx)(b.c,{activeClassName:"active",exact:!0,to:"/establishment/signup",className:"side-item",onClick:t,children:"Signup"})]})},ne=function(e){var t=e.active,a=e.toggle,s=e.logged,n=e.setLogged,r=s?Object(c.jsx)(ce,{toggle:a,setLogged:n}):Object(c.jsx)(se,{toggle:a});return Object(c.jsxs)("div",{className:t?"side-menu d-flex flex-column sideactive":"side-menu d-flex flex-column",children:[Object(c.jsx)("div",{className:"close px-2 d-flex justify-content-end align-items-center",onClick:a,children:Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"45",height:"45",fill:"currentColor",className:"bi bi-x",viewBox:"0 0 16 16",children:Object(c.jsx)("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})})}),Object(c.jsx)("div",{className:"side-items d-flex flex-column align-items-center",children:r})]})},re=function(e){var t=e.setLogged;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(b.c,{activeClassName:"active",exact:!0,to:"/establishment",className:"nav-item",children:"Home"}),Object(c.jsx)(b.c,{activeClassName:"active",exact:!0,to:"/establishment/profile",className:"nav-item",children:"Profile"}),Object(c.jsx)(b.c,{activeClassName:"active",exact:!0,to:"/establishment/logs",className:"nav-item",children:"Logs"}),Object(c.jsx)("li",{className:"nav-item logout-icon d-flex align-items-center",onClick:Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$();case 2:t(!1);case 3:case"end":return e.stop()}}),e)}))),children:Object(c.jsx)(U.a,{})})]})},ie=function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(b.c,{activeClassName:"active",exact:!0,to:"/",className:"nav-item",children:"Home"}),Object(c.jsx)(b.c,{activeClassName:"active",exact:!0,to:"/establishment/login",className:"nav-item",children:"Login"}),Object(c.jsx)(b.c,{activeClassName:"active",exact:!0,to:"/establishment/signup",className:"nav-item",children:"Signup"})]})},le=function(e){var t=e.logged,a=e.setLogged,n=Object(s.useState)(!1),r=Object(u.a)(n,2),i=r[0],l=r[1],o=function(){return l(!i)};Object(s.useEffect)((function(){window.addEventListener("resize",(function(){window.innerWidth>=992&&l(!1)}))}));var d=t?Object(c.jsx)(re,{setLogged:a}):Object(c.jsx)(ie,{});return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(ne,{active:i,toggle:o,logged:t,setLogged:a}),Object(c.jsx)("nav",{className:"navigation d-flex align-items-center fixed-top",children:Object(c.jsxs)("div",{className:"container-fluid px-3 px-lg-5 d-flex align-items-center",children:[Object(c.jsx)("div",{className:"logo",children:Object(c.jsxs)(b.c,{exact:!0,to:"/",className:"logo-link",children:[Object(c.jsx)("span",{className:"logo-name",children:"VTrace |"}),Object(c.jsx)("span",{className:"logo-type",children:" Establishment"})]})}),Object(c.jsx)("div",{className:"hamburger d-flex d-lg-none align-items-center ml-auto",onClick:o,children:Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"45",height:"45",fill:"currentColor",className:"bi bi-filter-right menu",viewBox:"0 0 16 16",children:Object(c.jsx)("path",{d:"M14 10.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0 0 1h3a.5.5 0 0 0 .5-.5zm0-3a.5.5 0 0 0-.5-.5h-7a.5.5 0 0 0 0 1h7a.5.5 0 0 0 .5-.5zm0-3a.5.5 0 0 0-.5-.5h-11a.5.5 0 0 0 0 1h11a.5.5 0 0 0 .5-.5z"})})}),Object(c.jsx)("div",{className:"nav-menu d-none d-lg-flex align-items-center ml-auto",children:Object(c.jsx)("div",{className:"nav-items d-flex align-items-center",children:d})})]})})]})},oe=function(e){var t=e.toggle;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(b.c,{activeClassName:"active",exact:!0,to:"/",className:"side-item",onClick:t,children:"Home"}),Object(c.jsx)(b.c,{activeClassName:"active",exact:!0,to:"/individual",className:"side-item",onClick:t,children:"Individual"}),Object(c.jsx)(b.c,{activeClassName:"active",exact:!0,to:"/establishment",className:"side-item",onClick:t,children:"Estabslishment"})]})},de=function(e){var t=e.active,a=e.toggle,s=Object(c.jsx)(oe,{toggle:a});return Object(c.jsxs)("div",{className:t?"side-menu d-flex flex-column sideactive":"side-menu d-flex flex-column",children:[Object(c.jsx)("div",{className:"close px-2 d-flex justify-content-end align-items-center",onClick:a,children:Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"45",height:"45",fill:"currentColor",className:"bi bi-x",viewBox:"0 0 16 16",children:Object(c.jsx)("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})})}),Object(c.jsx)("div",{className:"side-items d-flex flex-column align-items-center",children:s})]})},ue=function(){var e=Object(s.useState)(!1),t=Object(u.a)(e,2),a=t[0],n=t[1],r=function(){return n(!a)};return Object(s.useEffect)((function(){window.addEventListener("resize",(function(){window.innerWidth>=992&&n(!1)}))})),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(de,{active:a,toggle:r}),Object(c.jsx)("nav",{className:"navigation d-flex align-items-center fixed-top",children:Object(c.jsxs)("div",{className:"container-fluid px-3 px-lg-5 d-flex align-items-center",children:[Object(c.jsx)("div",{className:"logo",children:Object(c.jsx)(b.c,{exact:!0,to:"/",className:"logo-link",children:Object(c.jsx)("span",{className:"logo-name",children:"VTrace"})})}),Object(c.jsx)("div",{className:"hamburger d-flex d-lg-none align-items-center ml-auto",onClick:r,children:Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"45",height:"45",fill:"currentColor",className:"bi bi-filter-right menu",viewBox:"0 0 16 16",children:Object(c.jsx)("path",{d:"M14 10.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0 0 1h3a.5.5 0 0 0 .5-.5zm0-3a.5.5 0 0 0-.5-.5h-7a.5.5 0 0 0 0 1h7a.5.5 0 0 0 .5-.5zm0-3a.5.5 0 0 0-.5-.5h-11a.5.5 0 0 0 0 1h11a.5.5 0 0 0 .5-.5z"})})}),Object(c.jsx)("div",{className:"nav-menu d-none d-lg-flex align-items-center ml-auto",children:Object(c.jsxs)("div",{className:"nav-items d-flex align-items-center",children:[Object(c.jsx)(b.c,{activeClassName:"active",exact:!0,to:"/",className:"nav-item",children:"Home"}),Object(c.jsx)(b.c,{activeClassName:"active",exact:!0,to:"/individual",className:"nav-item",children:"Individual"}),Object(c.jsx)(b.c,{activeClassName:"active",exact:!0,to:"/establishment",className:"nav-item",children:"Establishment"})]})})]})})]})},je=(a(59),a(177)),be=a(184),me=a(39),Ae=a.n(me),he=a(109),Oe=function(e){var t=e.logged,a=e.userId,n=Object(s.useState)(!1),r=Object(u.a)(n,2),i=r[0],l=r[1],b=Object(s.useState)({}),m=Object(u.a)(b,2),A=m[0],h=m[1],p=Object(s.useState)({}),x=Object(u.a)(p,2),g=x[0],v=x[1],f=Object(s.useState)(!0),N=Object(u.a)(f,2),w=N[0],y=N[1],C=function(){var e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(a);case 2:(t=e.sent).success&&(""!==t.user.street?v(t.user.street+", "+t.user.barangay+", "+t.user.cityMun+", "+t.user.province):v(t.user.barangay+", "+t.user.cityMun+", "+t.user.province),h(t.user),y(!1));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){C()}),[]);var k=function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),l(!0),window.scrollTo(0,0),e.next=5,Ae()(document.getElementById("qr-svg")).then((function(e){var t=e.toDataURL("image/png").replace("image/png","image/octet-stream"),a=document.createElement("a");a.setAttribute("download","".concat(A.userId,"_QR.png")),a.setAttribute("href",t),a.click(),e.remove()})).catch((function(e){l(!1)}));case 5:l(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return t?Object(c.jsx)("div",{style:{paddingTop:"70px",paddingBottom:"70px"},className:"container individual-home",children:Object(c.jsx)("div",{className:"home-wrapper mx-auto",children:Object(c.jsx)("div",{className:"card mt-4",children:Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"col-12",children:[Object(c.jsx)("div",{className:"home-qr-code text-center",children:w?Object(c.jsx)("div",{className:"home-qr-spinner py-5 my-5",children:Object(c.jsx)(je.a,{variant:"primary",as:"span",animation:"border",size:"xl",role:"status","aria-hidden":"true"})}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"home-qr-fullname pt-4",children:[Object(c.jsxs)("h2",{children:[A.firstname.toUpperCase()," ",A.lastname.toUpperCase()]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("span",{children:A.userId})," ","served as User ID that will be used in login."]})]}),Object(c.jsxs)("div",{id:"qr-svg",className:"home-qr-template d-inline-block px-1 mt-3 mb-4 pt-4 pb-3",children:[Object(c.jsx)("div",{className:"home-qr-title text-center mb-3",children:Object(c.jsx)("h4",{children:A.userId})}),Object(c.jsx)("div",{className:"d-flex justify-content-center mb-3",children:Object(c.jsx)(he,{bgColor:"#FFFFFF",fgColor:"#000000",level:"H",size:150,value:A.userId})}),Object(c.jsxs)("div",{className:"home-qr-info text-center mx-auto",children:[Object(c.jsxs)("h5",{children:[A.firstname," ",A.lastname]}),Object(c.jsx)("h6",{children:g})]})]})]})}),Object(c.jsx)("div",{className:"home-qr-download text-center mb-4",children:Object(c.jsx)("form",{onSubmit:k,children:Object(c.jsx)(be.a,{variant:"primary",type:"submit",className:"download-btn",disabled:i,children:i?Object(c.jsx)(je.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):"Download"})})})]})})})})})}):Object(c.jsx)(j.a,{to:"/individual/login"})},pe=a(3),xe=(a(33),a.p+"static/media/qr.90b7ea59.jpg"),ge=function(e){var t=e.logged,a=e.setLogged,n=Object(s.useState)(""),r=Object(u.a)(n,2),i=r[0],l=r[1],m=Object(s.useState)(""),A=Object(u.a)(m,2),h=A[0],O=A[1],p=Object(s.useState)(!1),x=Object(u.a)(p,2),g=x[0],v=x[1],f=Object(s.useState)({userId:"",password:"",loginErr:""}),N=Object(u.a)(f,2),w=N[0],C=N[1],k=function(e){"userId"===e.target.id?(C((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{userId:""})})),l(e.target.value)):"password"===e.target.id&&(C((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{password:""})})),O(e.target.value))},S=function(){var e=Object(d.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),v(!0),!E()){e.next=17;break}return e.prev=3,C((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{loginErr:""})})),e.next=7,y(i,h);case 7:(c=e.sent).success?a(!0):(C((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{loginErr:c.message})})),v(!1)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),C((function(t){return Object(pe.a)(Object(pe.a)({},t),{},{loginErr:e.t0.message})})),v(!1);case 15:e.next=18;break;case 17:v(!1);case 18:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=!0;return""===i&&(C((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{userId:"User ID is required."})})),e=!1),""===h?(C((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{password:"Password is required."})})),e=!1):h.length>0&&h.length<8&&(C((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{password:"Password should be greater than 8 characters."})})),e=!1),e};return t?Object(c.jsx)(j.a,{to:"/individual"}):Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{style:{paddingTop:"70px"},children:Object(c.jsx)("div",{className:"auth-body login-content d-flex align-items-center py-0 py-md-4 mb-5",children:Object(c.jsx)("div",{className:"container custom-row",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-md-6 d-flex align-items-center",children:Object(c.jsx)("img",{src:xe,alt:"logo",className:"img-fluid"})}),Object(c.jsx)("div",{className:"col-md-6 d-flex align-items-center justify-content-center",children:Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"col-md-10",children:[Object(c.jsxs)("div",{className:"mb-4",children:[Object(c.jsx)("h3",{children:"Login to VTrace"}),Object(c.jsx)("p",{className:"mb-4",children:"VTrace is an android app that is intended for contact tracing."})]}),Object(c.jsxs)("form",{onSubmit:S,children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("input",{type:"text",className:"form-control",id:"userId",placeholder:"User ID",value:i,onChange:k}),Object(c.jsx)("p",{className:"text-danger",children:w.userId})]}),Object(c.jsxs)("div",{className:"form-group last mb-2",children:[Object(c.jsx)("input",{type:"password",className:"form-control",id:"password",placeholder:"Password",value:h,onChange:k}),Object(c.jsx)("p",{className:"text-danger",children:w.password})]}),Object(c.jsx)("p",{className:"text-danger mt-3 text-center",children:w.loginErr}),Object(c.jsx)("div",{className:"forgot d-flex justify-content-start",children:Object(c.jsxs)("p",{children:["Don't have an account?"," ",Object(c.jsx)(b.b,{to:"/individual/signup",className:"forgot-link",children:"Signup here."})]})}),Object(c.jsx)("input",{type:"submit",value:g?"Loading...":"Login",className:"btn btn-block btn-primary",disabled:g})]})]})})})]})})})})})},ve=function(e){var t=e.logged,a=e.setLogged,n=Object(s.useState)(""),r=Object(u.a)(n,2),i=r[0],l=r[1],b=Object(s.useState)(""),m=Object(u.a)(b,2),A=m[0],h=m[1],O=Object(s.useState)(""),p=Object(u.a)(O,2),g=p[0],v=p[1],f=Object(s.useState)("Male"),N=Object(u.a)(f,2),w=N[0],C=N[1],k=Object(s.useState)(""),S=Object(u.a)(k,2),E=S[0],I=S[1],B=Object(s.useState)(""),L=Object(u.a)(B,2),Q=L[0],F=L[1],P=Object(s.useState)(""),U=Object(u.a)(P,2),q=U[0],D=U[1],T=Object(s.useState)(""),z=Object(u.a)(T,2),V=z[0],M=z[1],W=Object(s.useState)(""),H=Object(u.a)(W,2),Z=H[0],R=H[1],K=Object(s.useState)(""),X=Object(u.a)(K,2),Y=X[0],G=X[1],J=Object(s.useState)(""),_=Object(u.a)(J,2),$=_[0],ee=_[1],te=Object(s.useState)(""),ae=Object(u.a)(te,2),ce=ae[0],se=ae[1],ne=Object(s.useState)(!1),re=Object(u.a)(ne,2),ie=re[0],le=re[1],oe=Object(s.useState)({firstname:"",lastname:"",birthdate:"",gender:"",contactNumber:"",street:"",barangay:"",city:"",province:"",email:"",password:"",confirm:"",signupErr:""}),de=Object(u.a)(oe,2),ue=de[0],je=de[1],be=function(e){"firstname"===e.target.id?(je((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{firstname:""})})),l(e.target.value)):"lastname"===e.target.id?(je((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{lastname:""})})),h(e.target.value)):"birthdate"===e.target.id?(je((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{birthdate:""})})),v(e.target.value)):"gender"===e.target.id?(je((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{gender:""})})),C(e.target.value)):"contactNumber"===e.target.id?(je((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{contactNumber:""})})),I(e.target.value)):"street"===e.target.id?(je((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{street:""})})),F(e.target.value)):"barangay"===e.target.id?(je((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{barangay:""})})),D(e.target.value)):"city"===e.target.id?(je((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{city:""})})),M(e.target.value)):"province"===e.target.id?(je((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{province:""})})),R(e.target.value)):"email"===e.target.id?(je((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{email:""})})),G(e.target.value)):"password"===e.target.id?(je((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{password:""})})),ee(e.target.value)):"cpassword"===e.target.id&&(je((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{confirm:""})})),se(e.target.value))},me=function(){var e=Object(d.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),le(!0),!Ae()){e.next=24;break}return e.prev=3,je((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{signupErr:""})})),e.next=7,x({email:Y,password:$,firstname:i,lastname:A,birthdate:g,gender:w,contactNumber:E,street:Q,barangay:q,cityMun:V,province:Z});case 7:if(!(c=e.sent).success){e.next=15;break}return e.next=11,y(c.user.userId,$);case 11:e.sent.success&&a(!0),e.next=16;break;case 15:je((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{signupErr:c.message})}));case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(3),je((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{signupErr:c.message})})),le(!1);case 22:e.next=25;break;case 24:le(!1);case 25:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(t){return e.apply(this,arguments)}}(),Ae=function(){var e=!0;if(""===i&&(je((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{firstname:"Firstname is required."})})),e=!1),""===A&&(je((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{lastname:"Lastname is required."})})),e=!1),""===g&&(je((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{birthdate:"Birthdate is required."})})),e=!1),""===w&&(je((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{gender:"Gender is required."})})),e=!1),""===E&&(je((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{contactNumber:"Contact no. is required."})})),e=!1),""===q&&(je((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{barangay:"Barangay is required."})})),e=!1),""===V&&(je((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{city:"City/Municipality is required."})})),e=!1),""===Z&&(je((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{province:"Province is required."})})),e=!1),""===Y)je((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{email:"Email is required."})})),e=!1;else{/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(Y).toLowerCase())?je((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{email:""})})):(je((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{email:"Invalid email."})})),e=!1)}return""===$?(je((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{password:"Password is required."})})),e=!1):$.length>0&&$.length<8&&(je((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{password:"Password should be greater than 8 characters."})})),e=!1),""===ce?(je((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{confirm:"Confirm Password is required."})})),e=!1):$!==ce&&(je((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{confirm:"Password doesn't match."})})),e=!1),e};return t?Object(c.jsx)(j.a,{to:"/individual"}):Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{style:{paddingTop:"70px"},children:Object(c.jsx)("div",{className:"auth-body content d-flex align-items-center py-0 py-md-4 mb-4",children:Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-md-12 d-flex justify-content-center",children:Object(c.jsx)("img",{src:xe,alt:"logo",className:"img-fluid"})}),Object(c.jsx)("div",{className:"col-md-12 contents",children:Object(c.jsx)("div",{className:"row justify-content-center",children:Object(c.jsxs)("div",{className:"col-12 col-md-8",children:[Object(c.jsxs)("div",{className:"mb-4 text-center",children:[Object(c.jsx)("h3",{children:"Signup to VTrace"}),Object(c.jsx)("p",{className:"mb-4",children:"VTrace is an android app that is intended for contact tracing."})]}),Object(c.jsxs)("form",{onSubmit:me,children:[Object(c.jsxs)("div",{className:"form-group first",children:[Object(c.jsx)("input",{type:"text",className:"form-control",id:"firstname",placeholder:"Firstname",value:i,onChange:be}),Object(c.jsx)("p",{className:"text-danger",children:ue.firstname})]}),Object(c.jsxs)("div",{className:"form-group first",children:[Object(c.jsx)("input",{type:"text",className:"form-control",id:"lastname",placeholder:"Lastname",value:A,onChange:be}),Object(c.jsx)("p",{className:"text-danger",children:ue.lastname})]}),Object(c.jsxs)("div",{className:"form-group first",children:[Object(c.jsx)("input",{type:"text",className:"form-control",id:"birthdate",placeholder:"Birthdate (MM/DD/YYYY)",value:g,onChange:be}),Object(c.jsx)("p",{className:"text-danger",children:ue.birthdate})]}),Object(c.jsxs)("div",{className:"form-group first",children:[Object(c.jsxs)("select",{className:"form-control",id:"gender",value:w,onChange:be,children:[Object(c.jsx)("option",{value:"Male",children:"Male"}),Object(c.jsx)("option",{value:"Female",children:"Female"})]}),Object(c.jsx)("p",{className:"text-danger",children:ue.gender})]}),Object(c.jsxs)("div",{className:"form-group first",children:[Object(c.jsx)("input",{type:"text",className:"form-control",id:"contactNumber",placeholder:"Contact No.",value:E,onChange:be}),Object(c.jsx)("p",{className:"text-danger",children:ue.contactNumber})]}),Object(c.jsxs)("div",{className:"form-group first",children:[Object(c.jsx)("input",{type:"text",className:"form-control",id:"street",placeholder:"Street/Subdivision (Optional)",value:Q,onChange:be}),Object(c.jsx)("p",{className:"text-danger",children:ue.street})]}),Object(c.jsxs)("div",{className:"form-group first",children:[Object(c.jsx)("input",{type:"text",className:"form-control",id:"barangay",placeholder:"Barangay",value:q,onChange:be}),Object(c.jsx)("p",{className:"text-danger",children:ue.barangay})]}),Object(c.jsxs)("div",{className:"form-group first",children:[Object(c.jsx)("input",{type:"text",className:"form-control",id:"city",placeholder:"City/Municipality",value:V,onChange:be}),Object(c.jsx)("p",{className:"text-danger",children:ue.city})]}),Object(c.jsxs)("div",{className:"form-group first",children:[Object(c.jsx)("input",{type:"text",className:"form-control",id:"province",placeholder:"Province",value:Z,onChange:be}),Object(c.jsx)("p",{className:"text-danger",children:ue.province})]}),Object(c.jsxs)("div",{className:"form-group first",children:[Object(c.jsx)("input",{type:"text",className:"form-control",id:"email",placeholder:"Email",value:Y,onChange:be}),Object(c.jsx)("p",{className:"text-danger",children:ue.email})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("input",{type:"password",className:"form-control",id:"password",placeholder:"Password",value:$,onChange:be}),Object(c.jsx)("p",{className:"text-danger",children:ue.password})]}),Object(c.jsxs)("div",{className:"form-group last mb-4",children:[Object(c.jsx)("input",{type:"password",className:"form-control",id:"cpassword",placeholder:"Confirm Password",value:ce,onChange:be}),Object(c.jsx)("p",{className:"text-danger",children:ue.confirm})]}),Object(c.jsx)("p",{className:"text-danger",children:ue.signupErr}),Object(c.jsx)("input",{type:"submit",value:ie?"Loading...":"Signup",className:"btn btn-block btn-primary",disabled:ie})]})]})})})]})})})})})},fe=(a(64),function(e){var t=e.logged,a=e.userId,n=Object(s.useState)(""),r=Object(u.a)(n,2),i=r[0],l=r[1],b=Object(s.useState)(""),m=Object(u.a)(b,2),A=m[0],h=m[1],p=Object(s.useState)(""),x=Object(u.a)(p,2),g=x[0],f=x[1],w=Object(s.useState)("Male"),y=Object(u.a)(w,2),C=y[0],k=y[1],S=Object(s.useState)(""),E=Object(u.a)(S,2),I=E[0],L=E[1],Q=Object(s.useState)(""),F=Object(u.a)(Q,2),P=F[0],U=F[1],q=Object(s.useState)(""),D=Object(u.a)(q,2),T=D[0],z=D[1],V=Object(s.useState)(""),M=Object(u.a)(V,2),W=M[0],H=M[1],Z=Object(s.useState)(""),R=Object(u.a)(Z,2),K=R[0],X=R[1],Y=Object(s.useState)(""),G=Object(u.a)(Y,2),J=G[0],_=G[1],$=Object(s.useState)(""),ee=Object(u.a)($,2),te=ee[0],ae=ee[1],ce=Object(s.useState)(""),se=Object(u.a)(ce,2),ne=se[0],re=se[1],ie=Object(s.useState)(!1),le=Object(u.a)(ie,2),oe=le[0],de=le[1],ue=Object(s.useState)(!0),je=Object(u.a)(ue,2),be=je[0],me=je[1],Ae=Object(s.useState)(""),he=Object(u.a)(Ae,2),Oe=he[0],xe=he[1],ge=Object(s.useState)({firstname:"",lastname:"",birthdate:"",gender:"",contactNumber:"",street:"",barangay:"",city:"",province:"",email:"",oldPassword:"",newPassword:"",signupErr:""}),ve=Object(u.a)(ge,2),fe=ve[0],Ne=ve[1],we=!1,ye=function(){var e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(a);case 2:(t=e.sent).success&&(l(t.user.firstname),h(t.user.lastname),f(t.user.birthdate),k(t.user.gender),L(t.user.contactNumber),U(t.user.street),z(t.user.barangay),H(t.user.cityMun),X(t.user.province),_(t.user.email));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){ye(),ae(""),re("")}),[be]);var Ce=function(e){"firstname"===e.target.id?(Ne((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{firstname:""})})),l(e.target.value)):"lastname"===e.target.id?(Ne((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{lastname:""})})),h(e.target.value)):"birthdate"===e.target.id?(Ne((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{birthdate:""})})),f(e.target.value)):"gender"===e.target.id?(Ne((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{gender:""})})),k(e.target.value)):"contactNumber"===e.target.id?(Ne((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{contactNumber:""})})),L(e.target.value)):"street"===e.target.id?(Ne((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{street:""})})),U(e.target.value)):"barangay"===e.target.id?(Ne((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{barangay:""})})),z(e.target.value)):"city"===e.target.id?(Ne((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{city:""})})),H(e.target.value)):"province"===e.target.id?(Ne((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{province:""})})),X(e.target.value)):"email"===e.target.id?(Ne((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{email:""})})),_(e.target.value)):"oldPassword"===e.target.id?(Ne((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{oldPassword:""})})),ae(e.target.value)):"newPassword"===e.target.id&&(Ne((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{newPassword:""})})),re(e.target.value))},ke=function(){var e=Object(d.a)(o.a.mark((function e(t){var c,s,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),be){e.next=31;break}return e.next=4,Se();case 4:if(c=e.sent,xe(""),!c){e.next=30;break}if(e.prev=7,de(!0),Ne((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{signupErr:""})})),s=s={gender:C,contactNumber:I,street:P,barangay:T,cityMun:W,province:K,email:J},!we){e.next=16;break}return e.next=14,N({userId:a,updateData:{password:ne}});case 14:(n=e.sent).success?(xe("User successfully updated."),me(!0),we=!1):(Ne((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{signupErr:n.message})})),me(!0),we=!1);case 16:if(""!==fe.oldPassword){e.next=21;break}return e.next=19,v({userId:a,updateData:s});case 19:(r=e.sent).success?(xe("User successfully updated."),me(!0)):(Ne((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{signupErr:r.message})})),me(!0));case 21:de(!1),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(7),Ne((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{signupErr:"Failed to update user."})})),de(!1);case 28:e.next=31;break;case 30:de(!1);case 31:case"end":return e.stop()}}),e,null,[[7,24]])})));return function(t){return e.apply(this,arguments)}}(),Se=function(){var e=Object(d.a)(o.a.mark((function e(){var t,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!0,""===C&&(Ne((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{gender:"Gender is required."})})),t=!1),""===I&&(Ne((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{contactNumber:"Contact no. is required."})})),t=!1),""===T&&(Ne((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{barangay:"Barangay is required."})})),t=!1),""===W&&(Ne((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{city:"City/Municipality is required."})})),t=!1),""===K&&(Ne((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{province:"Province is required."})})),t=!1),""===J?(Ne((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{email:"Email is required."})})),t=!1):/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(J).toLowerCase())?Ne((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{email:""})})):(Ne((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{email:"Invalid email."})})),t=!1),""===te&&""===ne){e.next=15;break}if(te.length>0&&te.length<8&&(Ne((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{oldPassword:"Old Password should be greater than 8 characters."})})),t=!1),!(te.length>=8)){e.next=14;break}return e.next=12,B(a,te);case 12:(c=e.sent).success?we=!0:(Ne((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{oldPassword:c.message})})),t=!1);case 14:""===ne?(Ne((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{newPassword:"New Password is required."})})),t=!1,we=!1):ne.length>0&&ne.length<8&&(Ne((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{newPassword:"New Password should be greater than 8 characters."})})),t=!1,we=!1);case 15:return e.abrupt("return",t);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t?Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{style:{paddingTop:"70px"},children:Object(c.jsx)("div",{className:"individual-profile content d-flex align-items-center py-4 mb-4",children:Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("div",{className:"card p-4",children:Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col-md-12 contents",children:Object(c.jsx)("div",{className:"row justify-content-center",children:Object(c.jsxs)("div",{className:"col-12 col-md-8",children:[Object(c.jsxs)("div",{className:"profile-title mb-4 text-center",children:[Object(c.jsx)("h2",{children:"Profile Information"}),Object(c.jsx)("h5",{children:a})]}),Object(c.jsxs)("form",{onSubmit:ke,className:"profile-form",children:[Object(c.jsxs)("div",{className:"form-group first",children:[Object(c.jsx)("input",{type:"text",className:"form-control",id:"firstname",placeholder:"Firstname",value:i,onChange:Ce,disabled:!0}),Object(c.jsx)("p",{className:"text-danger",children:fe.firstname})]}),Object(c.jsxs)("div",{className:"form-group first",children:[Object(c.jsx)("input",{type:"text",className:"form-control",id:"lastname",placeholder:"Lastname",value:A,onChange:Ce,disabled:!0}),Object(c.jsx)("p",{className:"text-danger",children:fe.lastname})]}),Object(c.jsxs)("div",{className:"form-group first",children:[Object(c.jsx)("input",{type:"text",className:"form-control",id:"birthdate",placeholder:"Birthdate",value:g,onChange:Ce,disabled:!0}),Object(c.jsx)("p",{className:"text-danger",children:fe.birthdate})]}),Object(c.jsxs)("div",{className:"form-group first",children:[Object(c.jsxs)("select",{className:"form-control ".concat(be?"":"input-active"),id:"gender",value:C,onChange:Ce,disabled:be,children:[Object(c.jsx)("option",{value:"Male",children:"Male"}),Object(c.jsx)("option",{value:"Female",children:"Female"})]}),Object(c.jsx)("p",{className:"text-danger",children:fe.gender})]}),Object(c.jsxs)("div",{className:"form-group first",children:[Object(c.jsx)("input",{type:"text",className:"form-control ".concat(be?"":"input-active"),id:"contactNumber",placeholder:"Contact No.",value:I,onChange:Ce,disabled:be}),Object(c.jsx)("p",{className:"text-danger",children:fe.contactNumber})]}),Object(c.jsxs)("div",{className:"form-group first",children:[Object(c.jsx)("input",{type:"text",className:"form-control ".concat(be?"":"input-active"),id:"street",placeholder:"Street/Subdivision (Optional)",value:P,onChange:Ce,disabled:be}),Object(c.jsx)("p",{className:"text-danger",children:fe.street})]}),Object(c.jsxs)("div",{className:"form-group first",children:[Object(c.jsx)("input",{type:"text",className:"form-control ".concat(be?"":"input-active"),id:"barangay",placeholder:"Barangay",value:T,onChange:Ce,disabled:be}),Object(c.jsx)("p",{className:"text-danger",children:fe.barangay})]}),Object(c.jsxs)("div",{className:"form-group first",children:[Object(c.jsx)("input",{type:"text",className:"form-control ".concat(be?"":"input-active"),id:"city",placeholder:"City/Municipality",value:W,onChange:Ce,disabled:be}),Object(c.jsx)("p",{className:"text-danger",children:fe.city})]}),Object(c.jsxs)("div",{className:"form-group first",children:[Object(c.jsx)("input",{type:"text",className:"form-control ".concat(be?"":"input-active"),id:"province",placeholder:"Province",value:K,onChange:Ce,disabled:be}),Object(c.jsx)("p",{className:"text-danger",children:fe.province})]}),Object(c.jsxs)("div",{className:"form-group first",children:[Object(c.jsx)("input",{type:"text",className:"form-control ".concat(be?"":"input-active"),id:"email",placeholder:"Email",value:J,onChange:Ce,disabled:be}),Object(c.jsx)("p",{className:"text-danger",children:fe.email})]}),Object(c.jsx)("h6",{className:"mb-3 text-danger",children:"Leave Old Password and New Password fields blank if you do not want to change your current password."}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("input",{type:"password",className:"form-control ".concat(be?"":"input-active"),id:"oldPassword",placeholder:"Old Password",value:te,onChange:Ce,disabled:be}),Object(c.jsx)("p",{className:"text-danger",children:fe.oldPassword})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("input",{type:"password",className:"form-control ".concat(be?"":"input-active"),id:"newPassword",placeholder:"New Password",value:ne,onChange:Ce,disabled:be}),Object(c.jsx)("p",{className:"text-danger",children:fe.newPassword})]}),Object(c.jsx)("p",{className:"text-danger",children:fe.signupErr}),Object(c.jsx)("p",{className:"text-success",children:Oe}),Object(c.jsx)("div",{className:"profile-btn",children:Object(c.jsxs)("div",{className:"btn-wrapper d-flex justify-content-end",children:[Object(c.jsx)("input",{type:"button",value:be?"Edit":"Cancel",onClick:function(){me(!be)},className:"btn ".concat(be?"btn-warning":"btn-danger"," mx-2")}),Object(c.jsx)("input",{type:"submit",value:oe?"Loading...":"Save",className:"btn btn-primary ml-2",disabled:oe})]})})]})]})})})})})})})})}):Object(c.jsx)(j.a,{to:"/individual/login"})}),Ne=a(183),we=A.a.create({baseURL:"https://vtrace-backend.herokuapp.com/api",withCredentials:!0});function ye(e,t){return Ce.apply(this,arguments)}function Ce(){return(Ce=Object(d.a)(o.a.mark((function e(t,a){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,we({url:"/logs/individual-logs",method:"post",headers:{auth_token:localStorage.getItem("vtraceToken")},data:{userId:t,dateTime:a}});case 3:return c=e.sent,e.abrupt("return",c.data);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{success:!1,message:"Failed to get user logs."});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}a(65),a(66);var ke=function(e){var t=e.dateString,a=e.date,s=e.onClick,n=e.color;return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{className:"logs-date-box ".concat(n," text-center py-2 mb-3"),onClick:function(){return s(a)},children:Object(c.jsx)("h6",{children:t})})})},Se=function(e){var t=e.logged,a=e.userId,n=Object(s.useState)([]),r=Object(u.a)(n,2),i=r[0],l=r[1],b=Object(s.useState)(!1),m=Object(u.a)(b,2),A=m[0],h=m[1],O=Object(s.useState)(!1),p=Object(u.a)(O,2),x=p[0],g=p[1],v=Object(s.useState)([]),f=Object(u.a)(v,2),N=f[0],w=f[1],y=Object(s.useState)(""),C=Object(u.a)(y,2),k=C[0],S=C[1],E=Object(s.useState)(""),I=Object(u.a)(E,2),B=I[0],L=I[1];Object(s.useEffect)((function(){Q()}),[]);var Q=function(){var e=new Date,t=[];t.push((new Date).toISOString());for(var a=0;a<13;a++)t.push(new Date(e.setDate(e.getDate()-1)).toISOString());l(t)},F=function(){var e=Object(d.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye(a,t);case 2:(c=e.sent).success?(w(c.userLogs),g(!1)):(w([]),g(!1),S("You have no logs in this date."));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(e){g(!0),S(""),h(!0),L(new Date(e).toDateString()),F(e)};return t?Object(c.jsxs)("div",{style:{paddingTop:"70px",paddingBottom:"70px"},className:"container individual-logs",children:[Object(c.jsx)("div",{className:"container pt-4",children:Object(c.jsxs)("div",{className:"card py-4 px-3",children:[Object(c.jsx)("div",{className:"logs-title",children:Object(c.jsx)("h5",{className:"text-center mb-4",children:"Your logs in the last 14 days."})}),Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col-12 col-sm-9 col-lg-7 mx-auto",children:Object(c.jsx)("div",{className:"logs-date-wrapper text-center",children:i.map((function(e,t){var a=t%2===0?"light":"dark";return Object(c.jsx)(ke,{dateString:new Date(e).toDateString(),date:e,onClick:P,color:a},t)}))})})})]})}),Object(c.jsxs)(Ne.a,{contentClassName:"logs-modal",show:A,onHide:function(){h(!1)},size:"lg","aria-labelledby":"contained-modal-title-vcenter",animation:!1,scrollable:!0,children:[Object(c.jsx)(Ne.a.Header,{className:"logs-modal-header",closeButton:!0,children:Object(c.jsx)(Ne.a.Title,{id:"contained-modal-title-vcenter",children:Object(c.jsx)("h4",{children:B})})}),Object(c.jsx)("div",{className:"logs-list text-center",children:x?Object(c.jsx)("div",{className:"logs-modal-spinner text-center py-5",children:Object(c.jsx)(je.a,{variant:"primary",as:"span",animation:"border",size:"xl",role:"status","aria-hidden":"true"})}):""!==k?Object(c.jsx)("h3",{className:"mt-5",children:k}):Object(c.jsx)("ul",{className:"list-group list-group-flush",children:N.map((function(e,t){var a=function(e){var t=e.getUTCHours(),a=e.getUTCMinutes(),c=t>=12?"PM":"AM";return(t=(t%=12)||12)+":"+(a=a<10?"0"+a:a)+" "+c}(new Date(e.dateTime));return Object(c.jsx)("li",{className:"list-group-item",children:Object(c.jsxs)("div",{className:"logs-history d-flex justify-content-between",children:[Object(c.jsx)("p",{className:"logs-establishment",children:e.establishment.establishmentName}),Object(c.jsx)("p",{className:"logs-time",children:a})]})},t)}))})})]})]}):Object(c.jsx)(j.a,{to:"/individual/login"})},Ee=function(e){var t=e.logged,a=e.establishmentId,n=Object(s.useState)(!1),r=Object(u.a)(n,2),i=r[0],l=r[1],b=Object(s.useState)({}),m=Object(u.a)(b,2),A=m[0],h=m[1],O=Object(s.useState)({}),p=Object(u.a)(O,2),x=p[0],g=p[1],v=Object(s.useState)(!0),f=Object(u.a)(v,2),N=f[0],w=f[1],y=function(){var e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(a);case 2:(t=e.sent).success&&(""!==t.establishment.street?g(t.establishment.street+", "+t.establishment.barangay+", "+t.establishment.cityMun+", "+t.establishment.province):g(t.establishment.barangay+", "+t.establishment.cityMun+", "+t.establishment.province),h(t.establishment),w(!1));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){y()}),[]);var C=function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),l(!0),window.scrollTo(0,0),e.next=5,Ae()(document.getElementById("qr-svg")).then((function(e){var t=e.toDataURL("image/png").replace("image/png","image/octet-stream"),a=document.createElement("a");a.setAttribute("download","".concat(A.establishmentId,"_QR.png")),a.setAttribute("href",t),a.click(),e.remove()})).catch((function(e){l(!1)}));case 5:l(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return t?Object(c.jsx)("div",{style:{paddingTop:"70px",paddingBottom:"70px"},className:"container individual-home",children:Object(c.jsx)("div",{className:"home-wrapper mx-auto",children:Object(c.jsx)("div",{className:"card mt-4 py-5",children:Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"col-12",children:[Object(c.jsx)("div",{className:"home-qr-code text-center",children:N?Object(c.jsx)("div",{className:"home-qr-spinner py-5 my-5",children:Object(c.jsx)(je.a,{variant:"primary",as:"span",animation:"border",size:"xl",role:"status","aria-hidden":"true"})}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"home-qr-fullname",children:[Object(c.jsx)("h2",{children:A.establishmentName.toUpperCase()}),Object(c.jsxs)("p",{children:[Object(c.jsx)("span",{children:A.establishmentId})," ","served as Establishment ID that will be used in login."]})]}),Object(c.jsxs)("div",{id:"qr-svg",className:"home-qr-template d-inline-block px-1 mt-3 mb-4 pt-4 pb-3",children:[Object(c.jsx)("div",{className:"home-qr-title text-center mb-3",children:Object(c.jsx)("h4",{children:A.establishmentId})}),Object(c.jsx)("div",{className:"d-flex justify-content-center mb-3",children:Object(c.jsx)("img",{src:"data:image/png;base64,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",alt:"company",className:"img-fluid",style:{width:"150px"}})}),Object(c.jsxs)("div",{className:"home-qr-info text-center mx-auto",children:[Object(c.jsx)("h5",{children:A.establishmentName}),Object(c.jsx)("h6",{children:x})]})]})]})}),Object(c.jsx)("div",{className:"home-qr-download text-center mb-4",children:Object(c.jsx)("form",{onSubmit:C,children:Object(c.jsx)(be.a,{variant:"primary",type:"submit",className:"download-btn",disabled:i,children:i?Object(c.jsx)(je.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):"Download"})})})]})})})})})}):Object(c.jsx)(j.a,{to:"/establishment/login"})},Ie=function(e){var t=e.logged,a=e.setLogged,n=Object(s.useState)(""),r=Object(u.a)(n,2),i=r[0],l=r[1],m=Object(s.useState)(""),A=Object(u.a)(m,2),h=A[0],O=A[1],p=Object(s.useState)(!1),x=Object(u.a)(p,2),g=x[0],v=x[1],f=Object(s.useState)({establishmentId:"",password:"",loginErr:""}),N=Object(u.a)(f,2),w=N[0],y=N[1],C=function(e){"establishmentId"===e.target.id?(y((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{establishmentId:""})})),l(e.target.value)):"password"===e.target.id&&(y((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{password:""})})),O(e.target.value))},k=function(){var e=Object(d.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),v(!0),!S()){e.next=17;break}return e.prev=3,y((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{loginErr:""})})),e.next=7,Y(i,h);case 7:(c=e.sent).success?a(!0):(y((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{loginErr:c.message})})),v(!1)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),y((function(t){return Object(pe.a)(Object(pe.a)({},t),{},{loginErr:e.t0.message})})),v(!1);case 15:e.next=18;break;case 17:v(!1);case 18:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=!0;return""===i&&(y((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{establishmentId:"Establishment ID is required."})})),e=!1),""===h?(y((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{password:"Password is required."})})),e=!1):h.length>0&&h.length<8&&(y((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{password:"Password should be greater than 8 characters."})})),e=!1),e};return t?Object(c.jsx)(j.a,{to:"/establishment"}):Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{style:{paddingTop:"70px"},children:Object(c.jsx)("div",{className:"auth-body login-content d-flex align-items-center py-0 py-md-4 mb-5",children:Object(c.jsx)("div",{className:"container custom-row",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-md-6 d-flex align-items-center",children:Object(c.jsx)("img",{src:xe,alt:"logo",className:"img-fluid"})}),Object(c.jsx)("div",{className:"col-md-6 d-flex align-items-center justify-content-center",children:Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"col-md-10",children:[Object(c.jsxs)("div",{className:"mb-4",children:[Object(c.jsx)("h3",{children:"Login to VTrace"}),Object(c.jsx)("p",{className:"mb-4",children:"VTrace is an android app that is intended for contact tracing."})]}),Object(c.jsxs)("form",{onSubmit:k,children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("input",{type:"text",className:"form-control",id:"establishmentId",placeholder:"Establisment ID",value:i,onChange:C}),Object(c.jsx)("p",{className:"text-danger",children:w.establishmentId})]}),Object(c.jsxs)("div",{className:"form-group last mb-2",children:[Object(c.jsx)("input",{type:"password",className:"form-control",id:"password",placeholder:"Password",value:h,onChange:C}),Object(c.jsx)("p",{className:"text-danger",children:w.password})]}),Object(c.jsx)("p",{className:"text-danger mt-3 text-center",children:w.loginErr}),Object(c.jsx)("div",{className:"forgot d-flex justify-content-start",children:Object(c.jsxs)("p",{children:["Don't have an account?"," ",Object(c.jsx)(b.b,{to:"/establishment/signup",className:"forgot-link",children:"Signup here."})]})}),Object(c.jsx)("input",{type:"submit",value:g?"Loading...":"Login",className:"btn btn-block btn-primary",disabled:g})]})]})})})]})})})})})},Be=function(e){var t=e.logged,a=e.setLogged,n=Object(s.useState)(""),r=Object(u.a)(n,2),i=r[0],l=r[1],b=Object(s.useState)(""),m=Object(u.a)(b,2),A=m[0],h=m[1],O=Object(s.useState)(""),p=Object(u.a)(O,2),x=p[0],g=p[1],v=Object(s.useState)(""),f=Object(u.a)(v,2),N=f[0],w=f[1],y=Object(s.useState)(""),C=Object(u.a)(y,2),k=C[0],S=C[1],E=Object(s.useState)(""),I=Object(u.a)(E,2),B=I[0],L=I[1],Q=Object(s.useState)(""),F=Object(u.a)(Q,2),P=F[0],U=F[1],q=Object(s.useState)(""),D=Object(u.a)(q,2),T=D[0],z=D[1],V=Object(s.useState)(""),M=Object(u.a)(V,2),H=M[0],Z=M[1],R=Object(s.useState)(!1),K=Object(u.a)(R,2),X=K[0],G=K[1],J=Object(s.useState)({establishmentName:"",contactNumber:"",street:"",barangay:"",city:"",province:"",email:"",password:"",confirm:"",signupErr:""}),_=Object(u.a)(J,2),$=_[0],ee=_[1],te=function(e){"establishmentName"===e.target.id?(ee((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{establishmentName:""})})),l(e.target.value)):"contactNumber"===e.target.id?(ee((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{contactNumber:""})})),h(e.target.value)):"street"===e.target.id?(ee((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{street:""})})),g(e.target.value)):"barangay"===e.target.id?(ee((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{barangay:""})})),w(e.target.value)):"city"===e.target.id?(ee((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{city:""})})),S(e.target.value)):"province"===e.target.id?(ee((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{province:""})})),L(e.target.value)):"email"===e.target.id?(ee((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{email:""})})),U(e.target.value)):"password"===e.target.id?(ee((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{password:""})})),z(e.target.value)):"cpassword"===e.target.id&&(ee((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{confirm:""})})),Z(e.target.value))},ae=function(){var e=Object(d.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),G(!0),!ce()){e.next=24;break}return e.prev=3,ee((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{signupErr:""})})),e.next=7,W({email:P,password:T,establishmentName:i,contactNumber:A,street:x,barangay:N,cityMun:k,province:B});case 7:if(!(c=e.sent).success){e.next=15;break}return e.next=11,Y(c.establishment.establishmentId,T);case 11:e.sent.success&&a(!0),e.next=16;break;case 15:ee((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{signupErr:c.message})}));case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(3),ee((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{signupErr:c.message})})),G(!1);case 22:e.next=25;break;case 24:G(!1);case 25:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=!0;if(""===i&&(ee((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{establishmentName:"Establishment Name is required."})})),e=!1),""===A&&(ee((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{contactNumber:"Contact no. is required."})})),e=!1),""===N&&(ee((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{barangay:"Barangay is required."})})),e=!1),""===k&&(ee((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{city:"City/Municipality is required."})})),e=!1),""===B&&(ee((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{province:"Province is required."})})),e=!1),""===P)ee((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{email:"Email is required."})})),e=!1;else{/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(P).toLowerCase())?ee((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{email:""})})):(ee((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{email:"Invalid email."})})),e=!1)}return""===T?(ee((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{password:"Password is required."})})),e=!1):T.length>0&&T.length<8&&(ee((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{password:"Password should be greater than 8 characters."})})),e=!1),""===H?(ee((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{confirm:"Confirm Password is required."})})),e=!1):T!==H&&(ee((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{confirm:"Password doesn't match."})})),e=!1),e};return t?Object(c.jsx)(j.a,{to:"/establishment"}):Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{style:{paddingTop:"70px"},children:Object(c.jsx)("div",{className:"auth-body content d-flex align-items-center py-0 py-md-4 mb-4",children:Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-md-12 d-flex justify-content-center",children:Object(c.jsx)("img",{src:xe,alt:"logo",className:"img-fluid"})}),Object(c.jsx)("div",{className:"col-md-12 contents",children:Object(c.jsx)("div",{className:"row justify-content-center",children:Object(c.jsxs)("div",{className:"col-12 col-md-8",children:[Object(c.jsxs)("div",{className:"mb-4 text-center",children:[Object(c.jsx)("h3",{children:"Signup to VTrace"}),Object(c.jsx)("p",{className:"mb-4",children:"VTrace is an android app that is intended for contact tracing."})]}),Object(c.jsxs)("form",{onSubmit:ae,children:[Object(c.jsxs)("div",{className:"form-group first",children:[Object(c.jsx)("input",{type:"text",className:"form-control",id:"establishmentName",placeholder:"Establishment Name",value:i,onChange:te}),Object(c.jsx)("p",{className:"text-danger",children:$.establishmentName})]}),Object(c.jsxs)("div",{className:"form-group first",children:[Object(c.jsx)("input",{type:"text",className:"form-control",id:"contactNumber",placeholder:"Contact No.",value:A,onChange:te}),Object(c.jsx)("p",{className:"text-danger",children:$.contactNumber})]}),Object(c.jsxs)("div",{className:"form-group first",children:[Object(c.jsx)("input",{type:"text",className:"form-control",id:"street",placeholder:"Street/Subdivision (Optional)",value:x,onChange:te}),Object(c.jsx)("p",{className:"text-danger",children:$.street})]}),Object(c.jsxs)("div",{className:"form-group first",children:[Object(c.jsx)("input",{type:"text",className:"form-control",id:"barangay",placeholder:"Barangay",value:N,onChange:te}),Object(c.jsx)("p",{className:"text-danger",children:$.barangay})]}),Object(c.jsxs)("div",{className:"form-group first",children:[Object(c.jsx)("input",{type:"text",className:"form-control",id:"city",placeholder:"City/Municipality",value:k,onChange:te}),Object(c.jsx)("p",{className:"text-danger",children:$.city})]}),Object(c.jsxs)("div",{className:"form-group first",children:[Object(c.jsx)("input",{type:"text",className:"form-control",id:"province",placeholder:"Province",value:B,onChange:te}),Object(c.jsx)("p",{className:"text-danger",children:$.province})]}),Object(c.jsxs)("div",{className:"form-group first",children:[Object(c.jsx)("input",{type:"text",className:"form-control",id:"email",placeholder:"Email",value:P,onChange:te}),Object(c.jsx)("p",{className:"text-danger",children:$.email})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("input",{type:"password",className:"form-control",id:"password",placeholder:"Password",value:T,onChange:te}),Object(c.jsx)("p",{className:"text-danger",children:$.password})]}),Object(c.jsxs)("div",{className:"form-group last mb-4",children:[Object(c.jsx)("input",{type:"password",className:"form-control",id:"cpassword",placeholder:"Confirm Password",value:H,onChange:te}),Object(c.jsx)("p",{className:"text-danger",children:$.confirm})]}),Object(c.jsx)("p",{className:"text-danger",children:$.signupErr}),Object(c.jsx)("input",{type:"submit",value:X?"Loading...":"Signup",className:"btn btn-block btn-primary",disabled:X})]})]})})})]})})})})})},Le=function(e){var t=e.logged,a=e.establishmentId,n=Object(s.useState)("Male"),r=Object(u.a)(n,2),i=r[0],l=r[1],b=Object(s.useState)(""),m=Object(u.a)(b,2),A=m[0],h=m[1],O=Object(s.useState)(""),p=Object(u.a)(O,2),x=p[0],g=p[1],v=Object(s.useState)(""),f=Object(u.a)(v,2),N=f[0],w=f[1],y=Object(s.useState)(""),C=Object(u.a)(y,2),k=C[0],S=C[1],E=Object(s.useState)(""),I=Object(u.a)(E,2),B=I[0],L=I[1],Q=Object(s.useState)(""),F=Object(u.a)(Q,2),P=F[0],U=F[1],q=Object(s.useState)(""),D=Object(u.a)(q,2),T=D[0],z=D[1],M=Object(s.useState)(""),W=Object(u.a)(M,2),H=W[0],R=W[1],X=Object(s.useState)(!1),Y=Object(u.a)(X,2),G=Y[0],J=Y[1],_=Object(s.useState)(!0),$=Object(u.a)(_,2),ee=$[0],ae=$[1],ce=Object(s.useState)(""),se=Object(u.a)(ce,2),ne=se[0],re=se[1],ie=Object(s.useState)({establishmentName:"",contactNumber:"",street:"",barangay:"",city:"",province:"",email:"",oldPassword:"",newPassword:"",signupErr:""}),le=Object(u.a)(ie,2),oe=le[0],de=le[1],ue=!1,je=function(){var e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(a);case 2:(t=e.sent).success&&(l(t.establishment.establishmentName),h(t.establishment.contactNumber),g(t.establishment.street),w(t.establishment.barangay),S(t.establishment.cityMun),L(t.establishment.province),U(t.establishment.email));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){je(),z(""),R("")}),[ee]);var be=function(e){"establishmentName"===e.target.id?(de((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{establishmentName:""})})),l(e.target.value)):"contactNumber"===e.target.id?(de((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{contactNumber:""})})),h(e.target.value)):"street"===e.target.id?(de((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{street:""})})),g(e.target.value)):"barangay"===e.target.id?(de((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{barangay:""})})),w(e.target.value)):"city"===e.target.id?(de((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{city:""})})),S(e.target.value)):"province"===e.target.id?(de((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{province:""})})),L(e.target.value)):"email"===e.target.id?(de((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{email:""})})),U(e.target.value)):"oldPassword"===e.target.id?(de((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{oldPassword:""})})),z(e.target.value)):"newPassword"===e.target.id&&(de((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{newPassword:""})})),R(e.target.value))},me=function(){var e=Object(d.a)(o.a.mark((function e(t){var c,s,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),ee){e.next=31;break}return e.next=4,Ae();case 4:if(c=e.sent,re(""),!c){e.next=30;break}if(e.prev=7,J(!0),de((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{signupErr:""})})),s=s={establishmentName:i,contactNumber:A,street:x,barangay:N,cityMun:k,province:B,email:P},!ue){e.next=16;break}return e.next=14,K({establishmentId:a,updateData:{password:H}});case 14:(n=e.sent).success?(re("User successfully updated."),ae(!0),ue=!1):(de((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{signupErr:n.message})})),ae(!0),ue=!1);case 16:if(""!==oe.oldPassword){e.next=21;break}return e.next=19,Z({establishmentId:a,updateData:s});case 19:(r=e.sent).success?(re("Establishment successfully updated."),ae(!0)):(de((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{signupErr:r.message})})),ae(!0));case 21:J(!1),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(7),de((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{signupErr:"Failed to update establishment."})})),J(!1);case 28:e.next=31;break;case 30:J(!1);case 31:case"end":return e.stop()}}),e,null,[[7,24]])})));return function(t){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(d.a)(o.a.mark((function e(){var t,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!0,""===i&&(de((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{establishmentName:"Establishment Name is required."})})),t=!1),""===A&&(de((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{contactNumber:"Contact no. is required."})})),t=!1),""===N&&(de((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{barangay:"Barangay is required."})})),t=!1),""===k&&(de((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{city:"City/Municipality is required."})})),t=!1),""===B&&(de((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{province:"Province is required."})})),t=!1),""===P?(de((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{email:"Email is required."})})),t=!1):/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(P).toLowerCase())?de((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{email:""})})):(de((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{email:"Invalid email."})})),t=!1),""===T&&""===H){e.next=15;break}if(T.length>0&&T.length<8&&(de((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{oldPassword:"Old Password should be greater than 8 characters."})})),t=!1),!(T.length>=8)){e.next=14;break}return e.next=12,te(a,T);case 12:(c=e.sent).success?ue=!0:(de((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{oldPassword:c.message})})),t=!1);case 14:""===H?(de((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{newPassword:"New Password is required."})})),t=!1,ue=!1):H.length>0&&H.length<8&&(de((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{newPassword:"New Password should be greater than 8 characters."})})),t=!1,ue=!1);case 15:return e.abrupt("return",t);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t?Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{style:{paddingTop:"70px"},children:Object(c.jsx)("div",{className:"individual-profile content d-flex align-items-center py-4 mb-4",children:Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("div",{className:"card p-4",children:Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col-md-12 contents",children:Object(c.jsx)("div",{className:"row justify-content-center",children:Object(c.jsxs)("div",{className:"col-12 col-md-8",children:[Object(c.jsxs)("div",{className:"profile-title mb-4 text-center",children:[Object(c.jsx)("h2",{children:"Establishment Information"}),Object(c.jsx)("h5",{children:a})]}),Object(c.jsxs)("form",{onSubmit:me,className:"profile-form",children:[Object(c.jsxs)("div",{className:"form-group first",children:[Object(c.jsx)("input",{type:"text",className:"form-control ".concat(ee?"":"input-active"),id:"establishmentName",placeholder:"Establishment Name",value:i,onChange:be,disabled:ee}),Object(c.jsx)("p",{className:"text-danger",children:oe.establishmentName})]}),Object(c.jsxs)("div",{className:"form-group first",children:[Object(c.jsx)("input",{type:"text",className:"form-control ".concat(ee?"":"input-active"),id:"contactNumber",placeholder:"Contact No.",value:A,onChange:be,disabled:ee}),Object(c.jsx)("p",{className:"text-danger",children:oe.contactNumber})]}),Object(c.jsxs)("div",{className:"form-group first",children:[Object(c.jsx)("input",{type:"text",className:"form-control ".concat(ee?"":"input-active"),id:"street",placeholder:"Street/Subdivision (Optional)",value:x,onChange:be,disabled:ee}),Object(c.jsx)("p",{className:"text-danger",children:oe.street})]}),Object(c.jsxs)("div",{className:"form-group first",children:[Object(c.jsx)("input",{type:"text",className:"form-control ".concat(ee?"":"input-active"),id:"barangay",placeholder:"Barangay",value:N,onChange:be,disabled:ee}),Object(c.jsx)("p",{className:"text-danger",children:oe.barangay})]}),Object(c.jsxs)("div",{className:"form-group first",children:[Object(c.jsx)("input",{type:"text",className:"form-control ".concat(ee?"":"input-active"),id:"city",placeholder:"City/Municipality",value:k,onChange:be,disabled:ee}),Object(c.jsx)("p",{className:"text-danger",children:oe.city})]}),Object(c.jsxs)("div",{className:"form-group first",children:[Object(c.jsx)("input",{type:"text",className:"form-control ".concat(ee?"":"input-active"),id:"province",placeholder:"Province",value:B,onChange:be,disabled:ee}),Object(c.jsx)("p",{className:"text-danger",children:oe.province})]}),Object(c.jsxs)("div",{className:"form-group first",children:[Object(c.jsx)("input",{type:"text",className:"form-control ".concat(ee?"":"input-active"),id:"email",placeholder:"Email",value:P,onChange:be,disabled:ee}),Object(c.jsx)("p",{className:"text-danger",children:oe.email})]}),Object(c.jsx)("h6",{className:"mb-3 text-danger",children:"Leave Old Password and New Password fields blank if you do not want to change your current password."}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("input",{type:"password",className:"form-control ".concat(ee?"":"input-active"),id:"oldPassword",placeholder:"Old Password",value:T,onChange:be,disabled:ee}),Object(c.jsx)("p",{className:"text-danger",children:oe.oldPassword})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("input",{type:"password",className:"form-control ".concat(ee?"":"input-active"),id:"newPassword",placeholder:"New Password",value:H,onChange:be,disabled:ee}),Object(c.jsx)("p",{className:"text-danger",children:oe.newPassword})]}),Object(c.jsx)("p",{className:"text-danger",children:oe.signupErr}),Object(c.jsx)("p",{className:"text-success",children:ne}),Object(c.jsx)("div",{className:"profile-btn",children:Object(c.jsxs)("div",{className:"btn-wrapper d-flex justify-content-end",children:[Object(c.jsx)("input",{type:"button",value:ee?"Edit":"Cancel",onClick:function(){ae(!ee)},className:"btn ".concat(ee?"btn-warning":"btn-danger"," mx-2")}),Object(c.jsx)("input",{type:"submit",value:G?"Loading...":"Save",className:"btn btn-primary ml-2",disabled:G})]})})]})]})})})})})})})})}):Object(c.jsx)(j.a,{to:"/establishment/login"})},Qe=A.a.create({baseURL:"https://vtrace-backend.herokuapp.com/api",withCredentials:!0});function Fe(e,t){return Pe.apply(this,arguments)}function Pe(){return(Pe=Object(d.a)(o.a.mark((function e(t,a){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Qe({url:"/logs/establishment-logs",method:"post",headers:{auth_token:localStorage.getItem("vtraceEstToken")},data:{establishmentId:t,dateTime:a}});case 3:return c=e.sent,e.abrupt("return",c.data);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{success:!1,message:"Failed to get establishment logs."});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var Ue=function(e){var t=e.dateString,a=e.date,s=e.onClick,n=e.color;return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{className:"logs-date-box ".concat(n," text-center py-2 mb-3"),onClick:function(){return s(a)},children:Object(c.jsx)("h6",{children:t})})})},qe=function(e){var t=e.logged,a=e.establishmentId,n=Object(s.useState)([]),r=Object(u.a)(n,2),i=r[0],l=r[1],b=Object(s.useState)(!1),m=Object(u.a)(b,2),A=m[0],h=m[1],O=Object(s.useState)(!1),p=Object(u.a)(O,2),x=p[0],g=p[1],v=Object(s.useState)([]),f=Object(u.a)(v,2),N=f[0],w=f[1],y=Object(s.useState)(""),C=Object(u.a)(y,2),k=C[0],S=C[1],E=Object(s.useState)(""),I=Object(u.a)(E,2),B=I[0],L=I[1];Object(s.useEffect)((function(){Q()}),[]);var Q=function(){var e=new Date,t=[];t.push((new Date).toISOString());for(var a=0;a<29;a++)t.push(new Date(e.setDate(e.getDate()-1)).toISOString());l(t)},F=function(){var e=Object(d.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe(a,t);case 2:(c=e.sent).success?(w(c.establishmentLogs),console.log(N),g(!1)):(w([]),g(!1),S("You have no logs in this date."));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(e){g(!0),S(""),h(!0),L(new Date(e).toDateString()),F(e)};return t?Object(c.jsxs)("div",{style:{paddingTop:"70px",paddingBottom:"70px"},className:"container individual-logs",children:[Object(c.jsx)("div",{className:"container pt-4",children:Object(c.jsxs)("div",{className:"card py-4 px-3",children:[Object(c.jsx)("div",{className:"logs-title",children:Object(c.jsx)("h5",{className:"text-center mb-4",children:"Your establishment's logs in the last 30 days."})}),Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col-12 col-sm-9 col-lg-7 mx-auto",children:Object(c.jsx)("div",{className:"logs-date-wrapper text-center",children:i.map((function(e,t){var a=t%2===0?"light":"dark";return Object(c.jsx)(Ue,{dateString:new Date(e).toDateString(),date:e,onClick:P,color:a},t)}))})})})]})}),Object(c.jsxs)(Ne.a,{contentClassName:"logs-modal",show:A,onHide:function(){h(!1)},size:"xl","aria-labelledby":"contained-modal-title-vcenter",animation:!1,scrollable:!0,children:[Object(c.jsx)(Ne.a.Header,{className:"logs-modal-header",closeButton:!0,children:Object(c.jsx)(Ne.a.Title,{id:"contained-modal-title-vcenter",children:Object(c.jsx)("h4",{children:B})})}),Object(c.jsx)("div",{className:"logs-list text-center",children:x?Object(c.jsx)("div",{className:"logs-modal-spinner text-center py-5",children:Object(c.jsx)(je.a,{variant:"primary",as:"span",animation:"border",size:"xl",role:"status","aria-hidden":"true"})}):""!==k?Object(c.jsx)("h3",{className:"mt-5",children:k}):Object(c.jsx)("ul",{className:"list-group list-group-flush",children:N.map((function(e,t){return Object(c.jsx)("li",{className:"list-group-item",children:Object(c.jsxs)("div",{className:"logs-history row",children:[Object(c.jsx)("div",{className:"col-4 ",children:Object(c.jsx)("div",{className:"d-flex justify-content-start",children:Object(c.jsxs)("p",{className:"logs-establishment",children:[e.firstname," ",e.lastname]})})}),Object(c.jsx)("div",{className:"col-4",children:Object(c.jsx)("div",{className:"d-flex justify-content-start",children:Object(c.jsx)("p",{className:"logs-address",children:e.address})})}),Object(c.jsx)("div",{className:"col-4",children:Object(c.jsx)("div",{className:"d-flex justify-content-end",children:Object(c.jsx)("p",{className:"logs-time",children:e.time})})})]})},t)}))})})]})]}):Object(c.jsx)(j.a,{to:"/establishment/login"})},De=(a(116),function(){return Object(c.jsx)("div",{className:"container-fluid footer my-0 mx-0",children:Object(c.jsx)("div",{className:"h-100 footer-text d-flex justify-content-center align-items-center",children:Object(c.jsx)("h5",{children:"\xa9 2021 V-Trace"})})})}),Te=(a(117),a.p+"static/media/4121365.e5b6b418.png"),ze=function(){return Object(c.jsx)("div",{className:"landing",children:Object(c.jsx)("div",{className:"landing-content",children:Object(c.jsx)("div",{className:"container-fluid landing-cont",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-lg-5",children:Object(c.jsx)("div",{className:"landing-img d-flex justify-content-center",children:Object(c.jsx)("img",{className:"img-logo",src:Te,alt:""})})}),Object(c.jsx)("div",{className:"col-lg-7",children:Object(c.jsx)("div",{className:"welcome-section text-center d-flex align-items-center justify-content-center",children:Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{className:"text-welcome",children:"Welcome to VTrace"}),Object(c.jsx)("p",{className:"vtrace-description",children:"VTrace is a system that is intended for contact tracing."}),Object(c.jsx)("p",{className:"i-would-like",children:Object(c.jsx)("b",{children:"Register as an"})}),Object(c.jsxs)("div",{className:"buttons-row row",children:[Object(c.jsx)(b.c,{activeClassName:"active",exact:!0,to:"/individual",className:"btns col-lg-6",children:Object(c.jsx)("div",{children:Object(c.jsx)("button",{children:"Individual"})})}),Object(c.jsx)(b.c,{activeClassName:"active",exact:!0,to:"/establishment",className:"btns col-lg-6",children:Object(c.jsx)("div",{children:Object(c.jsx)("button",{children:"Establishment"})})})]}),Object(c.jsx)("div",{className:"technical",children:Object(c.jsx)("p",{className:"vtrace-description",children:"For any technical concerns, email us on vtrace@gmail.com."})})]})})})]})})})})},Ve=a(69),Me=(a(118),function(){return Object(c.jsxs)("div",{className:"d-flex flex-column align-items-center justify-content-center",style:{height:"100vh"},children:[Object(c.jsx)("h1",{className:"loading-text",children:"V-Trace"}),Object(c.jsx)(Ve.HashLoader,{size:90,color:"#5253ed",loading:!0})]})}),We=A.a.create({baseURL:"https://vtrace-backend.herokuapp.com/api",withCredentials:!0});function He(e,t){return Ze.apply(this,arguments)}function Ze(){return(Ze=Object(d.a)(o.a.mark((function e(t,a){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,We({url:"/admin/login",method:"post",headers:{auth_token:localStorage.getItem("vtraceAdminToken")},data:{username:t,password:a}});case 3:return(c=e.sent).data.success&&localStorage.setItem("vtraceAdminToken",c.data.token),e.abrupt("return",c.data);case 8:return e.prev=8,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{success:!1,message:"Failed to login."});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function Re(e,t){return Ke.apply(this,arguments)}function Ke(){return(Ke=Object(d.a)(o.a.mark((function e(t,a){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,We({url:"/admin/login",method:"post",headers:{auth_token:localStorage.getItem("vtraceAdminToken")},data:{username:t,password:a}});case 3:return c=e.sent,e.abrupt("return",c.data);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{success:!1,message:"Failed to login."});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Xe(){return Ye.apply(this,arguments)}function Ye(){return(Ye=Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,localStorage.removeItem("vtraceAdminToken");case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}var Ge=function(e){var t=e.logged,a=e.setLogged,n=Object(s.useState)(""),r=Object(u.a)(n,2),i=r[0],l=r[1],b=Object(s.useState)(""),m=Object(u.a)(b,2),A=m[0],h=m[1],O=Object(s.useState)(!1),p=Object(u.a)(O,2),x=p[0],g=p[1],v=Object(s.useState)({username:"",password:"",loginErr:""}),f=Object(u.a)(v,2),N=f[0],w=f[1],y=function(e){"username"===e.target.id?(w((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{username:""})})),l(e.target.value)):"password"===e.target.id&&(w((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{password:""})})),h(e.target.value))},C=function(){var e=Object(d.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),g(!0),!k()){e.next=17;break}return e.prev=3,w((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{loginErr:""})})),e.next=7,He(i,A);case 7:(c=e.sent).success?a(!0):(w((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{loginErr:c.message})})),g(!1)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),w((function(t){return Object(pe.a)(Object(pe.a)({},t),{},{loginErr:e.t0.message})})),g(!1);case 15:e.next=18;break;case 17:g(!1);case 18:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=!0;return""===i&&(w((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{username:"Username is required."})})),e=!1),""===A&&(w((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{password:"Password is required."})})),e=!1),e};return t?Object(c.jsx)(j.a,{to:"/backend"}):Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{children:Object(c.jsx)("div",{className:"auth-body login-content d-flex align-items-center py-0 py-md-4 mb-5",children:Object(c.jsx)("div",{className:"container admin-login d-flex align-items-center",children:Object(c.jsxs)("div",{className:"row mx-auto",children:[Object(c.jsx)("div",{className:"col-md-6 d-flex align-items-center",children:Object(c.jsx)("img",{src:xe,alt:"logo",className:"img-fluid"})}),Object(c.jsx)("div",{className:"col-md-6 d-flex align-items-center justify-content-center",children:Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"col-md-12",children:[Object(c.jsx)("div",{className:"mb-4",children:Object(c.jsx)("h3",{children:"Login to VTrace Admin"})}),Object(c.jsxs)("form",{onSubmit:C,children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("input",{type:"text",className:"form-control",id:"username",placeholder:"Username",value:i,onChange:y}),Object(c.jsx)("p",{className:"text-danger",children:N.username})]}),Object(c.jsxs)("div",{className:"form-group last mb-2",children:[Object(c.jsx)("input",{type:"password",className:"form-control",id:"password",placeholder:"Password",value:A,onChange:y}),Object(c.jsx)("p",{className:"text-danger",children:N.password})]}),Object(c.jsx)("p",{className:"text-danger mt-3 text-center",children:N.loginErr}),Object(c.jsx)("input",{type:"submit",value:x?"Loading...":"Login",className:"btn btn-block btn-primary",disabled:x})]})]})})})]})})})})})},Je=(a(36),A.a.create({baseURL:"http://localhost:5000/api",withCredentials:!0}));function _e(){return $e.apply(this,arguments)}function $e(){return($e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Je({url:"/admin/admin-logs",method:"get",headers:{auth_token:localStorage.getItem("vtraceAdminToken")}});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{success:!1,message:"No recent logins."});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function et(){return tt.apply(this,arguments)}function tt(){return(tt=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Je({url:"/admin/admin-list",method:"get",headers:{auth_token:localStorage.getItem("vtraceAdminToken")}});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{success:!1,message:"No recent logins."});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function at(e){return ct.apply(this,arguments)}function ct(){return(ct=Object(d.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Je({url:"/admin/create",method:"post",headers:{auth_token:localStorage.getItem("vtraceAdminToken")},data:{password:t}});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{success:!1,message:"No recent logins."});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function st(e,t){return nt.apply(this,arguments)}function nt(){return(nt=Object(d.a)(o.a.mark((function e(t,a){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Je({url:"/admin/update",method:"post",headers:{auth_token:localStorage.getItem("vtraceAdminToken")},data:{editUsername:t,password:a}});case 3:return c=e.sent,e.abrupt("return",c.data);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{success:!1,message:"No recent logins."});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function rt(){return it.apply(this,arguments)}function it(){return(it=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Je({url:"/admin/admin-scan-count",method:"post",headers:{auth_token:localStorage.getItem("vtraceAdminToken")},data:{dateTime:(new Date).toISOString()}});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{success:!1,message:"No recent logins."});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function lt(e,t){return ot.apply(this,arguments)}function ot(){return(ot=Object(d.a)(o.a.mark((function e(t,a){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Je({url:"/admin/admin-user-logs",method:"post",headers:{auth_token:localStorage.getItem("vtraceAdminToken")},data:{dateTime:new Date(t).toISOString(),match:a}});case 3:return c=e.sent,e.abrupt("return",c.data);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{success:!1,message:"No recent logins."});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function dt(e){return ut.apply(this,arguments)}function ut(){return(ut=Object(d.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Je({url:"/admin/admin-establishments",method:"post",headers:{auth_token:localStorage.getItem("vtraceAdminToken")},data:{match:t}});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{success:!1,message:"No recent logins."});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var jt=a(19),bt=(a(145),a(70)),mt=function(e){return Object(c.jsxs)("div",{className:"sidebar-wrapper ".concat(e.showMenu?"sidebar-expand":""),children:[Object(c.jsx)("div",{className:"sidebar-menu-close pt-3 pr-2 d-flex justify-content-end",children:Object(c.jsx)(jt.b,{size:32,className:"menu-close",onClick:function(){return e.setShowMenu(!1)}})}),Object(c.jsxs)("div",{className:"sidebar-header mb-4",children:[Object(c.jsx)("div",{className:"sidebar-account-icon text-center",children:Object(c.jsx)(bt.a,{size:120})}),Object(c.jsx)("div",{className:"sidebar-username text-center",children:Object(c.jsx)("p",{children:e.username})})]}),Object(c.jsxs)("div",{className:"sidebar-menus",children:[Object(c.jsxs)(b.c,{activeClassName:"menu-active",exact:!0,to:"/backend",className:"menu py-2 pl-3 d-flex align-items-center",children:[Object(c.jsx)("span",{className:"pr-3 menu-icon",children:Object(c.jsx)(jt.c,{size:30})}),Object(c.jsx)("span",{className:"menu-title",children:"Dashboard"})]}),Object(c.jsxs)(b.c,{activeClassName:"menu-active",exact:!0,to:"/backend/logs",className:"menu py-2 pl-3 d-flex align-items-center",children:[Object(c.jsx)("span",{className:"pr-3 menu-icon",children:Object(c.jsx)(jt.a,{size:30})}),Object(c.jsx)("span",{className:"menu-title",children:"Logs"})]}),Object(c.jsxs)(b.c,{activeClassName:"menu-active",exact:!0,to:"/backend/establishments",className:"menu py-2 pl-3 d-flex align-items-center",children:[Object(c.jsx)("span",{className:"pr-3 menu-icon",children:Object(c.jsx)(jt.f,{size:30})}),Object(c.jsx)("span",{className:"menu-title",children:"Establishments"})]}),Object(c.jsxs)(b.c,{activeClassName:"menu-active",exact:!0,to:"/backend/settings",className:"menu py-2 pl-3 d-flex align-items-center",children:[Object(c.jsx)("span",{className:"pr-3 menu-icon",children:Object(c.jsx)(jt.e,{size:30})}),Object(c.jsx)("span",{className:"menu-title",children:"Settings"})]})]})]})},At=a.p+"static/media/qr_home.d57d9ca1.PNG",ht=function(e){var t=e.logged,a=e.username,n=Object(s.useState)([]),r=Object(u.a)(n,2),i=r[0],l=r[1],b=Object(s.useState)("0"),m=Object(u.a)(b,2),A=m[0],h=m[1],O=Object(s.useState)(!0),p=Object(u.a)(O,2),x=p[0],g=p[1];Object(s.useEffect)((function(){return v(),function(){l([])}}),[]),Object(s.useEffect)((function(){window.addEventListener("resize",(function(){window.innerWidth>=767?g(!0):g(!1)}))}));var v=function(){var e=Object(d.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e();case 2:return t=e.sent,e.next=5,rt();case 5:a=e.sent,t.success?l(t.adminLogs):l([]),a.success&&h(a.count);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(mt,{username:a,showMenu:x,setShowMenu:g}),Object(c.jsx)("div",{className:"admin-wrapper d-flex",children:Object(c.jsx)("div",{className:"admin-content ".concat(x?"admin-narrow":""," admin-dashboard"),children:Object(c.jsxs)("div",{className:"container-fluid pt-2",children:[Object(c.jsxs)("div",{className:"admin-title d-flex py-2 mb-3 white",children:[Object(c.jsx)("div",{className:"admin-title-hamburger ml-2 ".concat(x?"d-none":""),children:Object(c.jsx)(jt.d,{size:32,onClick:function(){return g(!0)}})}),Object(c.jsx)("div",{children:Object(c.jsx)("h3",{className:"ml-3",children:"Dashboard"})})]}),Object(c.jsxs)("div",{className:"row sample",children:[Object(c.jsx)("div",{className:"col-md-6 mb-2",children:Object(c.jsxs)("div",{className:"admin-recent-logins py-2 px-3 white",children:[Object(c.jsx)("h3",{children:"Recent Logins"}),Object(c.jsx)("div",{className:"admin-logins",children:Object(c.jsx)("ul",{className:"list-group list-group-flush",children:i.map((function(e,t){var a=new Date(e.dateTime).toLocaleString();return Object(c.jsxs)("li",{className:"list-group-item text-center",children:[e.username," -"," ",a]},t)}))})})]})}),Object(c.jsx)("div",{className:"col-md-6 mb-2",children:Object(c.jsxs)("div",{className:"admin-total-scans py-2 px-3 white",children:[Object(c.jsx)("h3",{children:"Total Scans"}),Object(c.jsx)("div",{className:"admin-scans",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-lg-6 text-center",children:Object(c.jsx)("img",{src:At,alt:"qrImage",className:"img-fluid"})}),Object(c.jsx)("div",{className:"col-lg-6 d-flex align-items-center justify-content-center",children:Object(c.jsxs)("div",{className:"number-scan text-center",children:[Object(c.jsx)("h1",{children:A}),Object(c.jsx)("h4",{children:"# of scans as of today"})]})})]})})]})})]})]})})})]}):Object(c.jsx)(j.a,{to:"/backend/login"})},Ot=function(e){var t=e.setLogged;return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("li",{className:"nav-item logout-icon d-flex align-items-center",onClick:Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xe();case 2:t(!1);case 3:case"end":return e.stop()}}),e)}))),children:[Object(c.jsx)(U.a,{})," ",Object(c.jsx)("p",{className:"my-auto",children:"Logout"})]})})},pt=function(e){var t=e.setLogged,a=Object(c.jsx)(Ot,{setLogged:t});return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("nav",{className:"navigation d-flex align-items-center fixed-top",children:Object(c.jsxs)("div",{className:"container-fluid d-flex align-items-center",children:[Object(c.jsx)("div",{className:"logo",children:Object(c.jsxs)(b.c,{exact:!0,to:"/",className:"logo-link",children:[Object(c.jsx)("span",{className:"logo-name",children:"VTrace |"}),Object(c.jsx)("span",{className:"logo-type",children:" Admin"})]})}),Object(c.jsx)("div",{className:"nav-menu d-flex align-items-center ml-auto",children:Object(c.jsx)("div",{className:"nav-items d-flex align-items-center",children:a})})]})})})},xt=a(178),gt=a(182),vt=function(e){var t=e.logged,a=e.username,n=Object(s.useState)(!0),r=Object(u.a)(n,2),i=r[0],l=r[1],b=Object(s.useState)(!0),m=Object(u.a)(b,2),A=m[0],h=m[1],O=Object(s.useState)((new Date).toISOString().slice(0,10)),p=Object(u.a)(O,2),x=p[0],g=p[1],v=Object(s.useState)(""),f=Object(u.a)(v,2),N=f[0],w=f[1],y=Object(s.useState)([]),C=Object(u.a)(y,2),k=C[0],S=C[1];Object(s.useEffect)((function(){window.addEventListener("resize",(function(){window.innerWidth>=767?l(!0):l(!1)}))})),Object(s.useEffect)((function(){E()}),[N,x]);var E=function(){var e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lt(x,N);case 2:(t=e.sent).success?(S(t.adminUserLogs),h(!1)):(S([]),h(!0));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(e){"date"===e.target.id?g(e.target.value):"search"===e.target.id&&w(e.target.value)},B=Object(xt.a)((function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200}}})),L=function(){var e=B();return Object(c.jsx)("form",{className:e.container,noValidate:!0,children:Object(c.jsx)(gt.a,{id:"date",label:"Select Date",type:"date",defaultValue:x,className:e.textField,InputLabelProps:{shrink:!0},onChange:I})})},Q=function(e){var t=e.getUTCHours(),a=e.getUTCMinutes(),c=t>=12?"PM":"AM";return(t=(t%=12)||12)+":"+(a=a<10?"0"+a:a)+" "+c};return t?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(mt,{username:a,showMenu:i,setShowMenu:l}),Object(c.jsx)("div",{className:"admin-wrapper d-flex",children:Object(c.jsx)("div",{className:"admin-content ".concat(i?"admin-narrow":""," admin-logs"),children:Object(c.jsxs)("div",{className:"container-fluid pt-2",children:[Object(c.jsxs)("div",{className:"admin-title d-flex py-2 mb-3 white",children:[Object(c.jsx)("div",{className:"admin-title-hamburger ml-2 ".concat(i?"d-none":""),children:Object(c.jsx)(jt.d,{size:32,onClick:function(){return l(!0)}})}),Object(c.jsx)("div",{children:Object(c.jsx)("h3",{className:"ml-3",children:"Logs"})})]}),Object(c.jsx)("div",{className:"admin-logs-main py-3 mb-3 white",children:Object(c.jsxs)("div",{className:"container-fluid h-100",children:[Object(c.jsx)("div",{className:"admin-logs-filter py-2 mb-4",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-md-6",children:Object(c.jsx)("div",{className:"filter-search",children:Object(c.jsxs)("div",{className:"input-group mb-2",children:[Object(c.jsx)("input",{id:"search",type:"text",value:N,className:"form-control",placeholder:"Search Person (Firstname/Lastname only)",onChange:I}),Object(c.jsx)("div",{className:"input-group-append"})]})})}),Object(c.jsx)("div",{className:"col-md-6",children:Object(c.jsx)("div",{className:"filter-date",children:Object(c.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(c.jsx)(L,{})})})})]})}),Object(c.jsx)("div",{className:"admin-logs-table",children:Object(c.jsxs)("div",{className:"table-responsive",children:[Object(c.jsxs)("table",{className:"table table-striped",children:[Object(c.jsx)("thead",{className:"admin-logs-table-header",children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{scope:"col",children:"#"}),Object(c.jsx)("th",{scope:"col",children:"Name"}),Object(c.jsx)("th",{scope:"col",children:"Time"}),Object(c.jsx)("th",{scope:"col",children:"Establishment"})]})}),Object(c.jsx)("tbody",{children:k.map((function(e,t){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{scope:"row",children:t+1}),Object(c.jsxs)("td",{children:[e.user.firstname," ",e.user.lastname]}),Object(c.jsx)("td",{children:Q(new Date(e.dateTime))}),Object(c.jsx)("td",{children:e.establishment.establishmentName})]},t)}))})]}),Object(c.jsx)("h3",{className:"text-danger text-center ".concat(A?"":"d-none"),children:"No logs in this date."})]})})]})})]})})})]}):Object(c.jsx)(j.a,{to:"/backend/login"})},ft=function(e){var t=e.logged,a=e.username,n=Object(s.useState)(!0),r=Object(u.a)(n,2),i=r[0],l=r[1],b=Object(s.useState)(!0),m=Object(u.a)(b,2),A=m[0],h=m[1],O=Object(s.useState)(""),p=Object(u.a)(O,2),x=p[0],g=p[1],v=Object(s.useState)([]),f=Object(u.a)(v,2),N=f[0],w=f[1];Object(s.useEffect)((function(){window.addEventListener("resize",(function(){window.innerWidth>=767?l(!0):l(!1)}))})),Object(s.useEffect)((function(){y()}),[x]);var y=function(){var e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dt(x);case 2:(t=e.sent).success?(w(t.adminEstablishments),h(!1)):(w([]),h(!0));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(mt,{username:a,showMenu:i,setShowMenu:l}),Object(c.jsx)("div",{className:"admin-wrapper d-flex",children:Object(c.jsx)("div",{className:"admin-content ".concat(i?"admin-narrow":""," admin-logs"),children:Object(c.jsxs)("div",{className:"container-fluid pt-2",children:[Object(c.jsxs)("div",{className:"admin-title d-flex py-2 mb-3 white",children:[Object(c.jsx)("div",{className:"admin-title-hamburger ml-2 ".concat(i?"d-none":""),children:Object(c.jsx)(jt.d,{size:32,onClick:function(){return l(!0)}})}),Object(c.jsx)("div",{children:Object(c.jsx)("h3",{className:"ml-3",children:"Establishments"})})]}),Object(c.jsx)("div",{className:"admin-logs-main py-3 mb-3 white",children:Object(c.jsxs)("div",{className:"container-fluid h-100",children:[Object(c.jsx)("div",{className:"admin-logs-filter py-2 mb-4",children:Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col-md-6",children:Object(c.jsx)("div",{className:"filter-search",children:Object(c.jsxs)("div",{className:"input-group mb-2",children:[Object(c.jsx)("input",{id:"search",type:"text",value:x,className:"form-control",placeholder:"Search Establishments",onChange:function(e){"search"===e.target.id&&g(e.target.value)}}),Object(c.jsx)("div",{className:"input-group-append"})]})})})})}),Object(c.jsx)("div",{className:"admin-logs-table",children:Object(c.jsxs)("div",{className:"table-responsive",children:[Object(c.jsxs)("table",{className:"table table-striped",children:[Object(c.jsx)("thead",{className:"admin-logs-table-header",children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{scope:"col",children:"#"}),Object(c.jsx)("th",{scope:"col",children:"Establishment ID"}),Object(c.jsx)("th",{scope:"col",children:"Establishment Name"}),Object(c.jsx)("th",{scope:"col",children:"Address"})]})}),Object(c.jsx)("tbody",{children:N.map((function(e,t){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{scope:"row",children:t+1}),Object(c.jsx)("td",{children:e.establishmentId}),Object(c.jsx)("td",{children:e.establishmentName}),Object(c.jsx)("td",{children:e.address})]},t)}))})]}),Object(c.jsx)("h3",{className:"text-danger text-center ".concat(A?"":"d-none"),children:"No establishments registered."})]})})]})})]})})})]}):Object(c.jsx)(j.a,{to:"/backend/login"})},Nt=function(e){var t=e.logged,a=e.username,n=Object(s.useState)([]),r=Object(u.a)(n,2),i=r[0],l=r[1],b=Object(s.useState)(""),m=Object(u.a)(b,2),A=m[0],h=m[1],O=Object(s.useState)(""),p=Object(u.a)(O,2),x=p[0],g=p[1],v=Object(s.useState)(""),f=Object(u.a)(v,2),N=f[0],w=f[1],y=Object(s.useState)(""),C=Object(u.a)(y,2),k=C[0],S=C[1],E=Object(s.useState)(""),I=Object(u.a)(E,2),B=I[0],L=I[1],Q=Object(s.useState)(!0),F=Object(u.a)(Q,2),P=F[0],U=F[1];Object(s.useEffect)((function(){D()}),[]),Object(s.useEffect)((function(){window.addEventListener("resize",(function(){window.innerWidth>=767?U(!0):U(!1)}))}));var q=function(e){"password"===e.target.id?g(e.target.value):"newPassword"===e.target.id&&w(e.target.value)},D=function(){var e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et();case 2:(t=e.sent).success?l(t.adminList):l([]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===x&&(S("Password is required."),1)){e.next=5;break}return e.next=3,at(x);case 3:(t=e.sent).success?(D(),S(""),g("")):S(t.message);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===N&&(L("New Password is required."),1)){e.next=9;break}if(""===A){e.next=8;break}return e.next=4,st(A,N);case 4:(t=e.sent).success?(D(),L(""),h(""),w("")):(L(t.message),h("")),e.next=9;break;case 8:L("Please select admin to be updated.");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(mt,{username:a,showMenu:P,setShowMenu:U}),Object(c.jsx)("div",{className:"admin-wrapper d-flex",children:Object(c.jsx)("div",{className:"admin-content ".concat(P?"admin-narrow":""," admin-settings"),children:Object(c.jsxs)("div",{className:"container-fluid pt-2",children:[Object(c.jsxs)("div",{className:"admin-title d-flex py-2 mb-3 white",children:[Object(c.jsx)("div",{className:"admin-title-hamburger ml-2 ".concat(P?"d-none":""),children:Object(c.jsx)(jt.d,{size:32,onClick:function(){return U(!0)}})}),Object(c.jsx)("div",{children:Object(c.jsx)("h3",{className:"ml-3",children:"Settings"})})]}),Object(c.jsxs)("div",{className:"row mb-2",children:[Object(c.jsx)("div",{className:"col-md-6 mb-2",children:Object(c.jsxs)("div",{className:"admin-recent-logins py-2 px-3 white",children:[Object(c.jsx)("h3",{children:"Create New Admin User"}),Object(c.jsx)("p",{className:"mt-4",children:"Admin Username will be generated by the system."}),Object(c.jsxs)("div",{className:"admin-logins px-lg-5",children:[Object(c.jsxs)("div",{className:"input-group mb-2",children:[Object(c.jsx)("input",{id:"password",type:"password",className:"form-control",placeholder:"Enter Password",value:x,onChange:q}),Object(c.jsx)("div",{className:"input-group-append",children:Object(c.jsx)("button",{className:"btn btn-outline-primary",type:"button",onClick:function(){return T()},children:"Create"})})]}),Object(c.jsx)("p",{className:"text-danger",children:k})]})]})}),Object(c.jsx)("div",{className:"col-md-6 mb-2",children:Object(c.jsxs)("div",{className:"admin-total-scans py-2 px-3 white",children:[Object(c.jsx)("h3",{children:"Change Admin User Password"}),Object(c.jsxs)("div",{className:"admin-scans",children:[Object(c.jsxs)("p",{className:"mt-4 pl-lg-5",children:["Username: ",A]}),Object(c.jsxs)("div",{className:"input-group mb-2 px-lg-5",children:[Object(c.jsx)("input",{id:"newPassword",type:"password",className:"form-control",placeholder:"Enter New Password",value:N,onChange:q}),Object(c.jsx)("div",{className:"input-group-append",children:Object(c.jsx)("button",{className:"btn btn-outline-warning",type:"button",onClick:function(){return z()},children:"Update"})})]}),Object(c.jsx)("p",{className:"text-danger pl-lg-5",children:B})]})]})})]}),Object(c.jsx)("div",{className:"admin-list py-3 px-1 white mb-3 p",children:Object(c.jsxs)("div",{className:"container-fluid",children:[Object(c.jsx)("h3",{children:"Admin Users"}),Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col-8 mx-auto",children:Object(c.jsx)("div",{className:"admin-list-table",children:Object(c.jsxs)("table",{className:"table table-striped",children:[Object(c.jsx)("thead",{className:"admin-logs-table-header",children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{scope:"col",children:"#"}),Object(c.jsx)("th",{scope:"col",children:"Username"}),Object(c.jsx)("th",{scope:"col",children:"Action"})]})}),Object(c.jsx)("tbody",{children:i.map((function(e,t){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{scope:"row",children:t+1}),Object(c.jsx)("td",{children:e.username}),Object(c.jsx)("td",{className:"admin-list-edit",onClick:function(){return h(e.username)},children:"Edit"})]},t)}))})]})})})})]})})]})})})]}):Object(c.jsx)(j.a,{to:"/backend/login"})},wt=function(){var e=Object(s.useState)(!1),t=Object(u.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)(!1),i=Object(u.a)(r,2),l=i[0],b=i[1],m=Object(s.useState)(!1),A=Object(u.a)(m,2),h=A[0],O=A[1],p=Object(s.useState)(!0),x=Object(u.a)(p,2),g=x[0],v=x[1],f=Object(s.useState)(""),N=Object(u.a)(f,2),w=N[0],y=N[1],C=Object(s.useState)(""),S=Object(u.a)(C,2),E=S[0],I=S[1],B=Object(s.useState)(""),L=Object(u.a)(B,2),Q=L[0],F=L[1],P=function(){var e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,k("x","x");case 3:(t=e.sent).success&&(n(!0),y(t.userId),setTimeout((function(){v(!1)}),1e3)),setTimeout((function(){v(!1)}),1e3);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,J("x","x");case 3:(t=e.sent).success&&(b(!0),I(t.establishmentId),setTimeout((function(){v(!1)}),1e3)),setTimeout((function(){v(!1)}),1e3);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,Re("x","x");case 3:(t=e.sent).success&&(O(!0),F(t.username),setTimeout((function(){v(!1)}),1e3)),setTimeout((function(){v(!1)}),1e3);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){P()}),[a]),Object(s.useEffect)((function(){U()}),[l]),Object(s.useEffect)((function(){q()}),[h]),g?Object(c.jsx)(Me,{}):Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{className:"main-wrapper d-flex flex-column justify-content-between",children:Object(c.jsxs)(j.d,{children:[Object(c.jsxs)(j.b,{exact:!0,path:"/",children:[Object(c.jsx)(ue,{}),Object(c.jsx)(ze,{})]}),Object(c.jsxs)(j.b,{exact:!0,path:"/individual",children:[Object(c.jsx)(T,{logged:a,setLogged:n}),Object(c.jsx)(Oe,{logged:a,userId:w}),Object(c.jsx)(De,{})]}),Object(c.jsxs)(j.b,{exact:!0,path:"/individual/profile",children:[Object(c.jsx)(T,{logged:a,setLogged:n}),Object(c.jsx)(fe,{logged:a,userId:w}),Object(c.jsx)(De,{})]}),Object(c.jsxs)(j.b,{exact:!0,path:"/individual/logs",children:[Object(c.jsx)(T,{logged:a,setLogged:n}),Object(c.jsx)(Se,{logged:a,userId:w}),Object(c.jsx)(De,{})]}),Object(c.jsxs)(j.b,{exact:!0,path:"/individual/login",children:[Object(c.jsx)(T,{logged:a,setLogged:n}),Object(c.jsx)(ge,{logged:a,setLogged:n}),Object(c.jsx)(De,{})]}),Object(c.jsxs)(j.b,{exact:!0,path:"/individual/signup",children:[Object(c.jsx)(T,{logged:a,setLogged:n}),Object(c.jsx)(ve,{logged:a,setLogged:n}),Object(c.jsx)(De,{})]}),Object(c.jsxs)(j.b,{exact:!0,path:"/establishment",children:[Object(c.jsx)(le,{logged:l,setLogged:b}),Object(c.jsx)(Ee,{logged:l,establishmentId:E}),Object(c.jsx)(De,{})]}),Object(c.jsxs)(j.b,{exact:!0,path:"/establishment/profile",children:[Object(c.jsx)(le,{logged:l,setLogged:b}),Object(c.jsx)(Le,{logged:l,establishmentId:E}),Object(c.jsx)(De,{})]}),Object(c.jsxs)(j.b,{exact:!0,path:"/establishment/logs",children:[Object(c.jsx)(le,{logged:l,setLogged:b}),Object(c.jsx)(qe,{logged:l,establishmentId:E}),Object(c.jsx)(De,{})]}),Object(c.jsxs)(j.b,{exact:!0,path:"/establishment/login",children:[Object(c.jsx)(le,{logged:l,setLogged:b}),Object(c.jsx)(Ie,{logged:l,setLogged:b}),Object(c.jsx)(De,{})]}),Object(c.jsxs)(j.b,{exact:!0,path:"/establishment/signup",children:[Object(c.jsx)(le,{logged:l,setLogged:b}),Object(c.jsx)(Be,{logged:l,setLogged:b}),Object(c.jsx)(De,{})]}),Object(c.jsxs)(j.b,{exact:!0,path:"/backend",children:[Object(c.jsx)(pt,{setLogged:O}),Object(c.jsx)(ht,{logged:h,username:Q})]}),Object(c.jsxs)(j.b,{exact:!0,path:"/backend/logs",children:[Object(c.jsx)(pt,{setLogged:O}),Object(c.jsx)(vt,{logged:h,username:Q})]}),Object(c.jsxs)(j.b,{exact:!0,path:"/backend/establishments",children:[Object(c.jsx)(pt,{setLogged:O}),Object(c.jsx)(ft,{logged:h,username:Q})]}),Object(c.jsxs)(j.b,{exact:!0,path:"/backend/settings",children:[Object(c.jsx)(pt,{setLogged:O}),Object(c.jsx)(Nt,{logged:h,username:Q})]}),Object(c.jsx)(j.b,{exact:!0,path:"/backend/login",children:Object(c.jsx)(Ge,{logged:h,setLogged:O})})]})})})};var yt=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(b.a,{basename:"/",children:Object(c.jsx)(wt,{})})})};i.a.render(Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsx)(yt,{})}),document.getElementById("root"))},27:function(e,t,a){},33:function(e,t,a){},36:function(e,t,a){},59:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},81:function(e,t,a){}},[[147,1,2]]]);
//# sourceMappingURL=main.7c3a71ad.chunk.js.map